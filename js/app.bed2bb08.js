(function(t){function e(e){for(var s,r,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},n={app:0},a=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/eCOBIDAS/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("85ec"),n=i.n(s);n.a},"0d20":function(t,e,i){"use strict";var s=i("9fd2"),n=i.n(s);n.a},1657:function(t,e,i){},1981:function(t,e,i){},2128:function(t,e,i){"use strict";var s=i("3aec"),n=i.n(s);n.a},"2bb9":function(t,e,i){"use strict";var s=i("4911"),n=i.n(s);n.a},"2dc9":function(t,e,i){t.exports=i.p+"img/audio-permission-setting-safari.a60fae8a.gif"},3155:function(t,e,i){},3365:function(t,e,i){t.exports=i.p+"img/audio-permission-setting-chrome.0b3b612b.gif"},3458:function(t,e,i){"use strict";var s=i("3155"),n=i.n(s);n.a},3548:function(t,e,i){"use strict";var s=i("96ba"),n=i.n(s);n.a},3950:function(t,e,i){},"3ae0":function(t,e,i){},"3aec":function(t,e,i){},"41a5":function(t,e,i){"use strict";var s=i("61fc"),n=i.n(s);n.a},4678:function(t,e,i){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="4678"},4911:function(t,e,i){},4921:function(t,e,i){"use strict";var s=i("5cd4"),n=i.n(s);n.a},"49f8":function(t,e,i){var s={"./en.json":"edd4","./es.json":"a306"};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="49f8"},5061:function(t,e,i){"use strict";var s=i("1981"),n=i.n(s);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t.bannerMessage||t.showTimer?i("nav",{staticClass:"navbar sticky-top navbar-custom"},[t.bannerMessage?i("b-navbar-nav",{staticClass:"navbar-brand"},[i("b-nav-text",[t._v(t._s(t.$t("banner-message")))])],1):t._e(),t.showTimer?i("div",{staticClass:"timer",attrs:{id:"timer"}},[i("Timer",{attrs:{starttime:"Dec 23, 2020 02:37:25",endtime:t.expiryTime,trans:'{\n            "day":"Day",\n            "hours":"Hours",\n            "minutes":"Minutes",\n            "seconds":"Seconds",\n            "expired":"Please contact the researchers for a new submission link.",\n            "running":"Remaining...",\n            "upcoming":"Till start of study."\n            }'}})],1):t._e()],1):t._e(),i("div",{staticClass:"wrapper"},[i("nav",{ref:"sidebar",attrs:{id:"sidebar"}},[i("div",{staticClass:"sidebar-header"},[i("h4",[t._v(t._s(t.sidebarHeader))])]),i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_language,expression:"selected_language"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_language=e.target.multiple?i:i[0]},function(e){return t.setLang(e)}]}},[i("option",{attrs:{disabled:"",value:""}},[t._v("Select Language")]),t._l(t.languageOptions,(function(e){return i("option",{key:e.text,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2)]),i("ul",{staticClass:"list-unstyled components"},t._l(t.schemaOrder,(function(e,s){return i("li",{key:s,class:{current:s===parseInt(t.activityIndex)}},[t.visibility[s]?i("a",{class:{current:s===parseInt(t.activityIndex)},on:{click:function(e){return t.setActivity(s)}}},[t.isProtocolUrl?i("circleProgress",{attrs:{radius:20,progress:t.progress[s],stroke:4,strokeColor:"#007bff"}}):t._e(),i("span",{staticClass:"align-middle activityItem"},[t._v(" "+t._s(t.getDisplayName(e))+" ")])],1):t._e()])})),0),i("div",[t.allowExport?i("b-button",{staticClass:"align-middle",attrs:{disabled:!t.isAnswered},on:{click:t.downloadZipData}},[t._v(t._s(t.$t("export-button")))]):t._e()],1)]),i("div",{attrs:{id:"content"}},[i("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[i("div",{staticClass:"container-fluid"},[i("b-navbar-nav",[i("button",{staticClass:"btn",attrs:{type:"button",id:"sidebarCollapse"},on:{click:t.toggleSidebar}},[i("span",{staticClass:"navbar-toggler-icon"})])]),i("b-navbar-nav",{staticClass:"float-right"},[t.showHelp?i("a",{staticClass:"nav-link",attrs:{href:"#","data-email":t.getEmailData}},[t._v(t._s(t.$t("help-button")))]):t._e(),i("b-nav-item",{attrs:{to:{name:"Landing",query:t.$route.query},exact:""}},[t._v(t._s(t.$t("home-button")))])],1)],1)]),i("b-container",[i("b-modal",{ref:"invalid-token-modal",attrs:{"ok-only":"",title:"Access denied!","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":"","hide-footer":"","header-class":"justify-content-center"},model:{value:t.invalidToken,callback:function(e){t.invalidToken=e},expression:"invalidToken"}},[i("img",{attrs:{src:t.accessDeniedPath,alt:"HTTP 403 Forbidden",width:"100%"}}),i("br"),i("br"),i("p",{staticClass:"contact"},[t._v("Please contact us at "),i("a",{attrs:{href:t.contact,target:"_blank"}},[t._v(t._s(t.contact))])])]),i("router-view",{attrs:{reprotermsUrl:t.reprotermsUrl,srcUrl:t.srcUrl,responses:t.responses[t.activityIndex],selected_language:t.selected_language,ipAddress:t.clientIp,participantID:t.getPId,progress:t.progress[t.activityIndex],autoAdvance:t.checkAdvance,actVisibility:Object.values(t.visibility),nextActivity:t.nextActivity},on:{updateProgress:t.updateProgress,saveResponse:t.saveResponse,saveScores:t.saveScores,clearResponses:t.clearResponses}})],1)],1),i("b-modal",{ref:"my-modal",attrs:{size:"lg","hide-footer":"",title:"Uh-oh! Voice input needs fixing."},model:{value:t.hasError,callback:function(e){t.hasError=e},expression:"hasError"}},[t.notIOS?i("div",[i("p",[t._v(t._s(t.$t("permission-change-notification")))]),i("br"),i("img",{attrs:{src:t.permissionDemoPath,alt:"allow media permission",width:"100%"}}),i("br"),i("p",[t._v(t._s(t.$t("permission-refresh")))])]):i("div",[i("p",[t._v(t._s(t.$t("safari-notification")))])])])],1)])},a=[],r=(i("99af"),i("4de4"),i("4160"),i("caad"),i("c975"),i("d81d"),i("fb6a"),i("b0c0"),i("4fad"),i("b64b"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("2532"),i("5319"),i("1276"),i("159b"),i("5530")),o=i("2909"),c=(i("96cf"),i("1da1")),u=i("3835"),l=i("d4ec"),d=i("bee2"),p=i("5f5b"),h=i("bc3a"),m=i.n(h),v=i("337f"),g=i.n(v),f=i("c1df"),b=i.n(f),y=i("2ef0"),w=i.n(y),_=i("c4e3"),x=i.n(_),k=i("11c1"),S=i("3f69"),C=i.n(S),$=i("21a6"),j=(i("f9e3"),i("2dd8"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{height:2*t.radius,width:2*t.radius}},[i("circle",{attrs:{stroke:"lightgray","stroke-width":t.stroke,fill:"transparent",r:t.normalizedRadius,cx:t.radius,cy:t.radius}}),i("circle",{style:{strokeDashoffset:t.strokeDashoffset},attrs:{stroke:t.strokeColor,"stroke-dasharray":t.circumference+" "+t.circumference,"stroke-width":t.stroke,fill:"transparent",r:t.normalizedRadius,cx:t.radius,cy:t.radius}})])}),I=[],O=(i("a9e3"),{props:{radius:Number,progress:Number,stroke:Number,strokeColor:String},data:function(){var t=this.radius-2*this.stroke,e=2*t*Math.PI;return{normalizedRadius:t,circumference:e}},computed:{strokeDashoffset:function(){return this.circumference-this.progress/100*this.circumference}}}),P=O,R=i("2877"),A=Object(R["a"])(P,j,I,!1,null,null,null),D=A.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["expired"!==t.statusType?i("div",[i("div",{staticClass:"day"},[i("span",{staticClass:"number"},[t._v(t._s(t.days))]),i("div",{staticClass:"format"},[t._v(t._s(t.wordString.day))])]),i("div",{staticClass:"hour"},[i("span",{staticClass:"number"},[t._v(t._s(t.hours))]),i("div",{staticClass:"format"},[t._v(t._s(t.wordString.hours))])]),i("div",{staticClass:"min"},[i("span",{staticClass:"number"},[t._v(t._s(t.minutes))]),i("div",{staticClass:"format"},[t._v(t._s(t.wordString.minutes))])]),i("div",{staticClass:"sec"},[i("span",{staticClass:"number"},[t._v(t._s(t.seconds))]),i("div",{staticClass:"format"},[t._v(t._s(t.wordString.seconds))])])]):t._e(),i("div",{staticClass:"message",class:t.statusType},[t._v(t._s(t.message))])])},U=[],E=i("db49"),M=i.n(E),L={name:"Timer",props:["starttime","endtime","trans"],data:function(){return{timer:"",wordString:{},start:"",end:"",interval:"",days:"",minutes:"",hours:"",seconds:"",message:"",statusType:""}},created:function(){this.wordString=JSON.parse(this.trans)},mounted:function(){var t=this;this.start=new Date(this.starttime).getTime(),this.end=new Date(this.endtime).getTime(),this.timerCount(this.start,this.end),this.interval=setInterval((function(){t.timerCount(t.start,t.end)}),1e3)},computed:{timeoutMessage:function(){return this.$t("timeout-message")}},methods:{timerCount:function(t,e){var i=(new Date).getTime(),s=t-i,n=e-i;if(s<0&&n<0)return this.message="".concat(this.timeoutMessage," ").concat(M.a.contact),this.statusType="expired",void clearInterval(this.interval);s<0&&n>0?(this.calcTime(n),this.message=this.wordString.running,this.statusType="running"):s>0&&n>0&&(console.log(84),this.calcTime(s),this.message=this.wordString.upcoming,this.statusType="upcoming")},calcTime:function(t){this.days=Math.floor(t/864e5),this.hours=Math.floor(t%864e5/36e5),this.minutes=Math.floor(t%36e5/6e4),this.seconds=Math.floor(t%6e4/1e3)}}},N=L,q=(i("d080"),Object(R["a"])(N,T,U,!1,null,"e52dacec",null)),V=q.exports,z=(i("466d"),i("ddb0"),i("a925"));function F(){var t=i("49f8"),e={};return t.keys().forEach((function(i){var s=i.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){var n=s[1];M.a.startButton instanceof Object?t(i)["join-button"]=M.a.startButton[n]:t(i)["join-button"]=M.a.startButton,M.a.banner instanceof Object?t(i)["banner-message"]=M.a.banner[n]:t(i)["banner-message"]=M.a.banner,e[n]=t(i)}})),e}s["default"].use(z["a"]);var B=new z["a"]({locale:"en",fallbackLocale:"en",messages:F()});s["default"].use(p["a"]),s["default"].filter("reverse",(function(t){return t.slice().reverse()}));var K=i("e8a6"),Q=i("47a7");function H(t){var e=t.split("/"),i=e.length,s=e[i-1].split(".")[0];return s}var Y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-email]";Object(l["a"])(this,t),this.selector=e,this.initialize()}return Object(d["a"])(t,[{key:"mailto",value:function(t){window.location.href="mailto:".concat(atob(t))}},{key:"bindEvents",value:function(){var t=this;document.querySelectorAll(this.selector).forEach((function(e){e.addEventListener("click",(function(){t.mailto(e.getAttribute("data-email"))}))}))}},{key:"initialize",value:function(){this.bindEvents()}}]),t}(),J={name:"App",components:{circleProgress:D,Timer:V},data:function(){return{sidebarActive:!0,selected_language:"",sidebarHeader:"",visibility:{},displayNames:{},labelMap:{},langMap:{},cache:{},isAnswered:!1,clientIp:"",reproterms2:"",protocolUrl:M.a.githubSrc,content:{},startButton:M.a.startButton,showHelp:M.a.showHelp,bannerMessage:M.a.banner,contact:M.a.contact,audioConstraints:{audio:!0,video:!1},hasError:!1,browserType:"",clientSpecs:{},invalidToken:!1}},methods:{initialize:function(t){this.mediaRecorder=new Q(t)},error:function(){this.hasError=!0,this.supported=!1},checkPermission:function(){var t=this;void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var i=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return i?new Promise((function(t,s){i.call(navigator,e,t,s)})):(t.supported=!1,Promise.reject(new Error("getUserMedia is not implemented in this browser")))}),navigator.mediaDevices.getUserMedia?(this.supported=!0,navigator.mediaDevices.getUserMedia(this.audioConstraints).then(this.initialize,this.error)):this.supported=!1},setLang:function(t){B.locale=t.target.value},toggleSidebar:function(){this.$refs.sidebar.className.indexOf("active")<0?this.$refs.sidebar.className="active":this.$refs.sidebar.className=""},getVariableName:function(t,e){var i=e,s={};return w.a.map(i,(function(t){var e=t["http://schema.repronim.org/isAbout"][0]["@id"],i=t["http://schema.repronim.org/variableName"][0]["@value"];s[e]=i})),s[t]},setActivity:function(t){!this.checkDisableBack&&this.isProtocolUrl&&(this.$route.query.url?this.$router.push("/activities/".concat(t,"?url=").concat(this.$route.query.url)):this.$router.push("/activities/".concat(t)))},updateProgress:function(t){this.checkProgressDiff(this.progress[this.activityIndex],t),this.$store.dispatch("updateProgress",t),this.$forceUpdate()},checkProgressDiff:function(t,e){t!==e&&100===e&&this.setVisbility()},saveResponse:function(t,e){var i=!1;this.currentResponse[t]!==e[0]&&100===this.progress[this.activityIndex]&&(i=!0),e[1].hasOwnProperty("used")&&e[1].used.push(this.protocolUrl),this.$store.dispatch("saveResponse",{key:t,value:e}),i&&this.setVisbility(),this.isAnswered=!0},saveScores:function(t,e){this.$store.dispatch("saveScores",{key:t,scoreObj:e})},clearResponses:function(){this.$store.dispatch("clearResponses",this.activityIndex),this.$forceUpdate()},getDisplayName:function(t){var e=this;if(!w.a.isEmpty(this.$store.state.schema)){var i=this.labelMap[t];if(this.$store.state.schema["http://schema.repronim.org/addProperties"][0]["http://www.w3.org/2004/02/skos/core#prefLabel"]){var s=this.$store.state.schema["http://schema.repronim.org/addProperties"],n=w.a.filter(s,(function(e){return e["http://schema.repronim.org/isAbout"][0]["@id"]===t}));i=n[0]["http://www.w3.org/2004/02/skos/core#prefLabel"];var a=w.a.filter(i,(function(t){return t["@language"]===e.selected_language}));return Array.isArray(a)&&a.length?a[0]["@value"]:i[0]["@value"]}var r=w.a.filter(i,(function(t){return t["@language"]===e.selected_language}));return Array.isArray(r)&&r.length?r[0]["@value"]:i}return""},evaluateString:function(t,e){var i=Object.keys(e),s=t;return w.a.map(i,(function(t){var i=e[t].val;"skipped"!==i&&"dontknow"!==i?(w.a.isString(i)&&(i="'".concat(i,"'")),w.a.isArray(i)&&(i="[".concat(i,"]")),s=s.replace(new RegExp("\\b".concat(t,"\\b")||!1),i)):s=s.replace(new RegExp("\\b".concat(t,"\\b")),0)})),K(s)},responseMapper:function(t,e){var i;if(this.schema["http://schema.repronim.org/addProperties"]){var s=this.schema["http://schema.repronim.org/addProperties"];if(i=w.a.map(s,(function(t){var i=t["http://schema.repronim.org/isAbout"][0]["@id"],s=t["http://schema.repronim.org/variableName"][0]["@value"],n=w.a.filter(e,(function(t){return i in t})),a=n[0];return n[0]&&(a=n[0][i]),{key:i,val:a,qId:s}})),this.$store.getters.getQueryParameters){var n=this.$store.getters.getQueryParameters;Object.entries(n).forEach((function(t){var e=Object(u["a"])(t,2),s=e[0],n=e[1],a=s;"week"===s&&(n=parseInt(n));var r=n;i.push({key:s,val:r,qId:a})}))}var a={};return w.a.map(i,(function(t){a[t.qId]={val:t.val,ref:t.key}})),a}return{}},getPrefLabel:function(){var t=this,e=this.$store.state.schema,i=w.a.filter(e["http://www.w3.org/2004/02/skos/core#prefLabel"],(function(e){return e["@language"]===t.selected_language}));i.length||(i=e["http://www.w3.org/2004/02/skos/core#prefLabel"]),this.sidebarHeader=i[0]["@value"],this.schemaOrder&&w.a.map(this.schemaOrder,(function(e){C.a.expand(e).then((function(i){t.labelMap[e]=i[0]["http://www.w3.org/2004/02/skos/core#prefLabel"]}))}))},computeVisibilityCondition:function(t,e){var i=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var n,a,r,o,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!w.a.isObject(t)){s.next=13;break}if(n={method:t.method,url:t.url,data:t.payload,headers:{"content-type":"application/json"}},a=JSON.stringify(n),!(Object.keys(i.cache).indexOf(a)>-1)){s.next=5;break}return s.abrupt("return",i.cache[a]);case 5:return null!=i.visibility[e]&&void 0!==i.visibility[e]||(i.visibility[e]=!1),s.next=8,m()(n);case 8:return r=s.sent,i.cache[a]=r.data.qualified,s.abrupt("return",r.data.qualified);case 13:if(!w.a.isString(t)){s.next=17;break}return o=i.responseMapper(e,i.$store.state.responses),c=i.evaluateString(t,o),s.abrupt("return",c);case 17:return s.abrupt("return",t);case 18:case"end":return s.stop()}}),s)})))()},visibilityChain:function(t){var e=this;return t[0]?this.computeVisibilityCondition(t[0].condition,t[0].index).then((function(i){e.visibility[t[0].index]=i,e.$forceUpdate();var s=Object(o["a"])(t);s.shift(),e.visibilityChain(s)})):0},setVisbility:function(){var t=w.a.map(this.visibilityConditions,(function(t,e){return{condition:t,index:e}}));this.visibilityChain(t)},downloadZipData:function(){var t=this.$store.state.exportResponses,e=this.$store.state.scores,i=this.$store.state.participantId,s={response:t,scores:e,participantId:i};this.formatData(s)},formatData:function(t){var e=new x.a,i=0,s="".concat(Object(k["v4"])(),"-").concat(this.participantId);w.a.map(t.response,(function(t){var n=[];w.a.map(t,(function(t){var i=Object(r["a"])({},t);if("reproschema:Response"===t["@type"]&&t.value instanceof Blob){var a=t.isAbout.split("/"),o=t["@id"].split("uuid:")[1];e.folder(s).file("".concat(a[a.length-1],"-").concat(o,".wav"),t.value),i.value="".concat(a[a.length-1],"-").concat(o,".wav")}n.push(i)})),n.length&&(e.folder(s).file("activity_".concat(i,".jsonld"),JSON.stringify(n,null,4)),i+=1)})),e.generateAsync({type:"blob"}).then((function(t){Object($["saveAs"])(t,"".concat(s,".zip"))}))}},watch:{$route:function(){void 0!==this.$route.params.id&&this.$store.dispatch("setActivityIndex",this.$route.params.id)},visibilityConditions:{handler:function(t){w.a.isEmpty(t)||this.setVisbility()},deep:!0}},created:function(){var t=this,e=this.$route.query.url;e&&(this.protocolUrl=e),this.$store.dispatch("getBaseSchema",e).then((function(){return t.getPrefLabel()}))},mounted:function(){var t=this;new Y("[data-email]"),this.clientSpecs=JSON.stringify(g.a.parse(window.navigator.userAgent)),this.browserType=g.a.parse(window.navigator.userAgent).browser.name,M.a.checkMediaPermission&&this.checkPermission(),this.$route.query.lang?(this.selected_language=this.$route.query.lang,B.locale=this.selected_language):this.selected_language="en",this.$route.query.uid?this.$store.dispatch("saveParticipantId",this.$route.query.uid):M.a.generateRandomUid&&this.$store.dispatch("saveParticipantId",Object(k["v4"])()),this.$route.params.id&&this.$store.dispatch("setActivityIndex",this.$route.params.id),m.a.get("https://raw.githubusercontent.com/ReproNim/reproschema-library/master/resources/languages.json").then((function(e){t.langMap=e.data})),this.$store.dispatch("setParticipantUUID",Object(k["v4"])()),this.$route.query.expiry_time&&this.$store.dispatch("setExpiryMinutes",this.$route.query.expiry_time),this.$route.query.auth_token&&this.$store.dispatch("setAuthToken",this.$route.query.auth_token),w.a.isEmpty(this.$route.query)||this.$store.dispatch("setQueryParameters",this.$route.query)},computed:{accessDeniedPath:function(){var t=i("ba7e");return t},notIOS:function(){return"iOS"!==g.a.parse(window.navigator.userAgent).os.name},permissionDemoPath:function(){var t=i("3365");return"Firefox"===this.browserType?t=i("9640"):"Safari"===this.browserType&&(t=i("2dc9")),t},expiryTime:function(){var t=b()(this.$store.getters.getExpiryTime)["_i"];return t=t.replace(" ","+"),new Date(t).getTime()},showTimer:function(){return!!this.$store.getters.getExpiryTime},getEmailData:function(){var t="".concat(M.a.contact,"?subject=").concat(M.a.emailSubject,"&body=[ Describe the issue in detail. You can copy and paste text, screen capture and/or describe the expected vs. actual result.] Browser properties: ").concat(this.clientSpecs,"]");return window.btoa(t)},getschemaType:function(){return this.$store.getters.getschemaType},isProtocolUrl:function(){return"Activity"!==this.getschemaType},srcUrl:function(){return this.$store.getters.srcUrl},reprotermsUrl:function(){return this.$store.getters.getTermsUrl},schema:function(){return this.$store.state.schema},responses:function(){return this.$store.state.responses},scores:function(){return this.$store.state.scores},activityIndex:function(){return this.$store.state.activityIndex},progress:function(){return this.$store.state.progress},currentActivityProgress:function(){return this.progress[this.activityIndex]},currentResponse:function(){return this.responses[this.activityIndex]},schemaOrder:function(){if(!w.a.isEmpty(this.$store.state.schema)){var t=w.a.map(this.$store.state.schema["http://schema.repronim.org/order"][0]["@list"],(function(t){return t["@id"]}));return t}return[]},languageOptions:function(){var t=this;if(!w.a.isEmpty(this.$store.state.schema)){var e=w.a.map(this.$store.state.schema["http://www.w3.org/2004/02/skos/core#prefLabel"],(function(t){return t["@language"]})),i=w.a.map(e,(function(e){return{value:e,text:t.langMap[e]}}));return i}return[]},shouldUpload:function(){return!(!M.a.backendServer||!this.$store.getters.getAuthToken)},allowExport:function(){if(!w.a.isEmpty(this.$store.state.schema)&&this.$store.state.schema["http://schema.repronim.org/allow"]){var t=w.a.map(this.$store.state.schema["http://schema.repronim.org/allow"],(function(t){return t["@id"]}));return this.$store.dispatch("setExport",t.includes("http://schema.repronim.org/AllowExport")),t.includes("http://schema.repronim.org/AllowExport")||!this.shouldUpload}return this.$store.dispatch("setExport",!1),!1},schemaNameMapper:function(){var t=this,e={};return this.schemaOrder&&w.a.map(this.schemaOrder,(function(i){var s="";s=t.schema["http://schema.repronim.org/variableMap"]?t.getVariableName(i,t.schema["http://schema.repronim.org/variableMap"]):H(i),e[s]=i})),e},visibilityConditions:function(){var t=this;return this.schema["http://schema.repronim.org/addProperties"]?w.a.map(this.schemaOrder,(function(e){var i=t.schema["http://schema.repronim.org/addProperties"],s=w.a.filter(i,(function(t){return t["http://schema.repronim.org/isAbout"][0]["@id"]===e})),n=w.a.filter(s[0]["http://schema.repronim.org/variableName"],(function(e){return e["@language"]===t.selected_language}));if(n.length||(n=s[0]["http://schema.repronim.org/variableName"]),s[0]["http://schema.repronim.org/isVis"]){var a=s[0]["http://schema.repronim.org/isVis"][0];if("@value"in a)return a["@value"];if("http://schema.org/httpMethod"in a&&"http://schema.org/url"in a&&"http://schema.repronim.org/payload"in a){var r={},o=a["http://schema.repronim.org/payload"];return w.a.map(o,(function(e){var i=e["@value"],s=t.schemaOrder.indexOf(t.schemaNameMapper[i]);r[t.schemaNameMapper[i]]=t.scores[s]})),{url:a["http://schema.org/url"][0]["@value"],method:a["http://schema.org/httpMethod"][0]["@value"],payload:r}}}return!0})):w.a.mapValues(this.schemaOrder,(function(){return!0}))},checkDisableBack:function(){if(!w.a.isEmpty(this.$store.state.schema)&&this.$store.state.schema["http://schema.repronim.org/allow"]){var t=w.a.map(this.$store.state.schema["http://schema.repronim.org/allow"],(function(t){return t["@id"]}));return t.includes("http://schema.repronim.org/DisableBack")}return!1},getPId:function(){return this.$store.getters.getParticipantId},checkAdvance:function(){if(!w.a.isEmpty(this.$store.state.schema)&&this.$store.state.schema["http://schema.repronim.org/allow"]){var t=w.a.map(this.$store.state.schema["http://schema.repronim.org/allow"],(function(t){return t["@id"]}));return t.includes("http://schema.repronim.org/AutoAdvance")}return!1},nextActivity:function(){for(var t={},e=0;e<this.schemaOrder.length-1;e+=1)t[this.schemaOrder[e]]=this.schemaOrder[e+1];return t},participantId:function(){return this.$store.getters.getParticipantId}}},G=J,Z=(i("034f"),Object(R["a"])(G,n,a,!1,null,null,null)),W=Z.exports,X=i("8c4f"),tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[t.listShow.length?i("div",[t.complete&&t.autoAdvance?i("div",{staticClass:"text-center"},[t.isVis?i("div",[t.complete&&t.currentActivityIndex<t.listShow.length?i("p",[t._v(" "+t._s(t.$t("review-and-next")))]):t._e(),t.nextActivity[t.activityUrl]?i("b-button",{attrs:{variant:"danger"},on:{click:t.nextActivity1}},[t._v(t._s(t.$t("next-button")))]):t._e()],1):i("div",[i("p",[t._v("Thank you for participating. Not eligible at this time!")])])]):t._e(),i("br"),i("b-progress",{staticClass:"mb-3",attrs:{value:t.progress,max:100}}),t.preambleText?i("div",{staticClass:"preamble-text"},[i("strong",{domProps:{innerHTML:t._s(t.preambleText)}},[t._v(t._s(t.preambleText))])]):t._e()],1):i("div",[i("h1",[t._v(t._s(t.$t("loader"))+"...")]),i("Loader")],1),i("transition-group",{attrs:{name:"list",tag:"div",mode:"in-out"}},t._l(t.contextReverse,(function(e,s){return i("div",{key:e["@id"]+"f"+s,staticClass:"mt-3 mb-3"},[i("transition",{key:"t"+e["@id"],attrs:{name:"list"}},[t.shouldShow[s]?i("survey-item",{key:"c"+e["@id"],attrs:{item:e,index:t.contextReverse.length-s-1,init:t.responses[e["@id"]],responses:t.responses,selected_language:t.selected_language,clientIp:t.ipAddress,showPassOptions:t.findOverallPassOptions,individualPassList:t.individualPassList,reprotermsUrl:t.reprotermsUrl},on:{skip:function(e){return t.nextQuestion(t.contextReverse.length-s-1,1,0)},dontKnow:function(e){return t.nextQuestion(t.contextReverse.length-s-1,0,1)},next:function(e){return t.nextQuestion(t.contextReverse.length-s-1,0)},setData:t.setResponse,setScores:t.setScore}}):t._e()],1)],1)})),0)],1)},et=[],it=(i("45fc"),i("07ac"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-card",{staticClass:"text-center question mx-auto w-100",style:t.style,attrs:{"border-variant":t.variant,"no-body":"multipart"===t.ui||"section"===t.ui}},[i("div",{staticClass:"contextItem align-self-center center w-100"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},["ready"===t.status&&"multipart"!==t.ui&&"section"!==t.ui?i("InputSelector",{attrs:{inputType:t.ui,readOnly:t.widgetType,title:t.title,preamble:t.itemPreamble,valueConstraints:t.valueConstraints,fieldData:t.fieldData,init:t.init,responses:t.responses,selected_language:t.selected_language,reprotermsUrl:t.reprotermsUrl,ipAddress:t.clientIp,showPassOptions:t.showPassOptions,showItemPassOptions:t.itemAllow},on:{skip:t.sendSkip,dontKnow:t.sendDontKnow,next:t.sendNext,valueChanged:t.sendData}}):"ready"!==t.status?i("div",{staticClass:"loader"},[i("Loader")],1):"multipart"===t.ui?i("multipart",{attrs:{progress:t.mp_progress,responses:t.mp_responses,srcUrl:t.item["@id"],showPassOptions:t.showPassOptions,selected_language:t.selected_language,reprotermsUrl:t.reprotermsUrl,ipAddress:t.clientIp},on:{skip:t.sendSkip,dontKnow:t.sendDontKnow,next:t.sendNext,valueChanged:t.sendDataAndGoNext,saveResponse:t.setMPResponse,saveScores:t.setScore,updateProgress:t.setMPProgress,clearResponses:t.clearMPResponses}}):"section"===t.ui?i("subactivity",{attrs:{progress:t.mp_progress,responses:t.mp_responses,srcUrl:t.item["@id"],showPassOptions:t.showPassOptions,selected_language:t.selected_language,reprotermsUrl:t.reprotermsUrl,ipAddress:t.clientIp},on:{skip:t.sendSkip,dontKnow:t.sendDontKnow,next:t.sendNext,valueChanged:t.sendData,saveResponse:t.setMPResponse,saveScores:t.setScore,updateProgress:t.setMPProgress,clearResponses:t.clearMPResponses}}):t._e()],1)],1)])}),st=[],nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inputContent"},[t.preamble?i("div",{staticClass:"lead scroll mb-3 pr-3 pl-3"},[i("p",{class:{"text-justify":"audioPassageRecord"===t.inputType},domProps:{innerHTML:t._s(t.preamble)}},[t._v(t._s(t.preamble))])]):t._e(),t.title?i("div",{staticClass:"lead scroll mb-3 pr-3 pl-3"},[i("p",{class:{"text-justify":"audioPassageRecord"===t.inputType},domProps:{innerHTML:t._s(t.title)}},[t._v(t._s(t.title))]),t.valueConstraints.requiredValue?i("span",{staticClass:"text-danger"},[t._v("*")]):t._e()]):i("b-alert",{attrs:{variant:"danger",show:""}},[t._v(" "+t._s(t.$t("input-selector-alert"))+" ")]),"radio"===t.inputType?i("div",[i("Radio",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,reprotermsUrl:t.reprotermsUrl,init:t.init},on:{valueChanged:t.sendData}})],1):"audioCheck"===t.inputType||"audioRecord"===t.inputType||"audioPassageRecord"===t.inputType?i("div",[i("AudioRecord",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"audioImageRecord"===t.inputType?i("div",[i("AudioRecord",{attrs:{constraints:t.valueConstraints,fieldData:t.fieldData,selected_language:t.selected_language,init:t.init,mode:"audioImageRecord"},on:{valueChanged:t.sendData}})],1):"audioRecordNumberTask"===t.inputType?i("div",[i("AudioRecord",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init,mode:"audioRecordNumberTask"},on:{valueChanged:t.sendData}})],1):"audioRecordAudioTask"===t.inputType?i("div",[i("AudioRecord",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init,fieldData:t.fieldData,mode:"audioRecordAudioTask"},on:{valueChanged:t.sendData}})],1):"text"===t.inputType?i("div",[i("TextInput",{attrs:{constraints:t.valueConstraints,inputType:t.inputType,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"textarea"===t.inputType?i("div",[i("TextArea",{attrs:{constraints:t.valueConstraints,inputType:t.inputType,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"pid"===t.inputType?i("div",[i("ParticipantId",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"email"===t.inputType?i("div",[i("EmailInput",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"timeRange"===t.inputType?i("div",[i("TimeRange",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,id:"timeRange"+Math.floor(1e3*Math.random()),init:t.init},on:{valueChanged:t.sendData}})],1):"multitext"===t.inputType?i("div",[i("MultiTextInput",{attrs:{constraints:t.valueConstraints,init:t.init},on:{valueChanged:t.sendData}})],1):"number"===t.inputType?i("div",[i("IntegerInput",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"float"===t.inputType?i("div",[i("FloatInput",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"date"===t.inputType||"year"===t.inputType?i("div",[i("DateInput",{attrs:{constraints:t.valueConstraints,inputType:t.inputType,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"documentUpload"===t.inputType?i("div",[i("DocumentUpload",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"slider"===t.inputType?i("div",[i("SliderInput",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):"selectCountry"===t.inputType||"selectState"===t.inputType||"selectLanguage"===t.inputType||"select"===t.inputType?i("div",[i("SelectInput",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,reprotermsUrl:t.reprotermsUrl,inputType:t.inputType,init:t.init},on:{valueChanged:t.sendData}})],1):"static"===t.inputType&&t.readOnly?i("div",[i("StaticReadOnly",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,result:!0,init:t.init},on:{valueChanged:t.sendData}})],1):"save"===t.inputType?i("div",[i("SaveData",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,ipAddress:t.ipAddress,init:t.init},on:{valueChanged:t.sendData}})],1):"sign"===t.inputType?i("div",[i("StudySign",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,result:!0,init:t.init},on:{valueChanged:t.sendData}})],1):"static"===t.inputType?i("div",[i("Static",{attrs:{constraints:t.valueConstraints,selected_language:t.selected_language,init:t.init},on:{valueChanged:t.sendData}})],1):i("div",[i("b-alert",{attrs:{show:""}},[t._v(' no input type UI built for "'+t._s(t.inputType)+'" yet! ')])],1),null!==t.showPassOptions||null!==t.showItemPassOptions?i("div",[t.showItemPassOptions&&t.showItemPassOptions["dontKnow"]||t.showPassOptions&&t.showPassOptions["dontKnow"]?i("b-button",{attrs:{variant:"default"},on:{click:t.dontKnow}},[t._v(" "+t._s(t.$t("dont-know"))+" ")]):t._e(),t.showItemPassOptions&&t.showItemPassOptions["skip"]||t.showPassOptions&&t.showPassOptions["skip"]?i("b-button",{attrs:{variant:"default"},on:{click:t.skip}},[t._v(" "+t._s(t.$t("skip"))+" ")]):t._e()],1):t._e()],1)},at=[],rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"radioInput container ml-3 pl-3"},[t.isMultipleChoice?i("div",[i("b-form",{on:{submit:t.onSubmit}},[i("b-form-group",{attrs:{label:""}},[i("b-form-checkbox-group",{ref:"checkboxbutton",staticClass:"text-left",attrs:{stacked:"",plain:""},model:{value:t.checkboxSelected,callback:function(e){t.checkboxSelected=e},expression:"checkboxSelected"}},t._l(t.options,(function(e){return i("b-form-checkbox",{key:e.value,staticClass:"mb-3",attrs:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1):i("div",[t.isImageSelect?i("div",{staticClass:"text-center"},[i("vue-select-image",{ref:"imageSelect",attrs:{dataImages:t.dataImages,selectedImages:t.selectedImages,useLabel:""},on:{onselectimage:t.onSelectImage}})],1):i("b-form-group",{attrs:{label:""}},[i("b-form-radio-group",{ref:"radiobutton",staticClass:"text-left",attrs:{stacked:""},on:{change:t.sendData},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.options,(function(e){return i("b-form-radio",{key:e.value,staticClass:"mb-3",attrs:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1)])},ot=[],ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.rootClass},[i("ul",{class:t.rootClass+"__wrapper"},t._l(t.dataImagesLocal,(function(e,s){return i("li",{key:s,class:t.rootClass+"__item"},[t.isMultiple?t._e():i("div",{class:t.classThumbnail[s],on:{click:function(i){return t.onSelectImage(e)}}},[i("img",{class:t.rootClass+"__img",attrs:{src:e.src,alt:e.alt,height:t.h,width:t.w}}),t.useLabel?i("label",{class:t.rootClass+"__lbl"},[t._v(" "+t._s(e.alt)+" ")]):t._e()]),t.isMultiple?i("div",{class:t.classThumbnailMultiple(e.id),on:{click:function(i){return t.onSelectMultipleImage(e)}}},[i("img",{class:t.rootClass+"__img",attrs:{src:e.src,alt:e.alt,height:t.h,width:t.w}}),t.useLabel?i("label",{class:t.rootClass+"__lbl"},[t._v(" "+t._s(e.alt)+" ")]):t._e()]):t._e()])})),0)])},ut=[],lt=(i("7db0"),{name:"vue-select-image",props:{dataImages:{type:Array,default:function(){return[]}},selectedImages:{type:Array,default:function(){return[]}},isMultiple:{type:Boolean,default:!1},useLabel:{type:Boolean,default:!1},rootClass:{type:String,default:"vue-select-image"},activeClass:{type:String,default:"--selected"},h:{type:String,default:"auto"},w:{type:String,default:"auto"}},data:function(){return{singleSelected:{id:""},multipleSelected:[]}},watch:{},computed:{dataImagesLocal:function(){return this.dataImages||[]},classThumbnail:function(){var t=this;return w.a.map(this.dataImagesLocal,(function(e){var i="".concat(t.rootClass,"__thumbnail");return t.singleSelected.id===e.id?"".concat(i," ").concat(i).concat(t.activeClass):"".concat(i)}))}},mounted:function(){this.setInitialSelection()},methods:{classThumbnailMultiple:function(t){var e="".concat(this.rootClass,"__thumbnail"),i="".concat(e," is--multiple");return this.isExistInArray(t)?"".concat(i," ").concat(e).concat(this.activeClass):"".concat(i)},onSelectImage:function(t){this.singleSelected=Object.assign({},this.singleSelected,t),this.$emit("onselectimage",t)},isExistInArray:function(t){return this.multipleSelected.find((function(e){return t===e.id}))},removeFromSingleSelected:function(){this.singleSelected={},this.$emit("onselectimage",{})},removeFromMultipleSelected:function(t,e){this.multipleSelected=this.multipleSelected.filter((function(e){return t!==e.id})),e||this.$emit("onselectmultipleimage",this.multipleSelected)},resetMultipleSelection:function(){this.multipleSelected=[]},onSelectMultipleImage:function(t){this.isExistInArray(t.id)?this.removeFromMultipleSelected(t.id,!0):this.multipleSelected.push(t),this.$emit("onselectmultipleimage",this.multipleSelected)},setInitialSelection:function(){this.selectedImages&&(this.isMultiple||1!==this.selectedImages.length?this.multipleSelected=[].concat(this.selectedImages):(this.singleSelected=Object.assign({},this.selectedImages[0]),this.$forceUpdate()))}}}),dt=lt,pt=(i("5061"),Object(R["a"])(dt,ct,ut,!1,null,null,null)),ht=pt.exports,mt={name:"radioInput",props:["constraints","init","selected_language","reprotermsUrl"],data:function(){return{selected:null,checkboxSelected:[],answerLanguage:this.selected_language}},components:{VueSelectImage:ht},computed:{options:function(){var t=this,e="";return w.a.map(this.constraints["http://schema.repronim.org/choices"],(function(i){var s=w.a.filter(i["http://schema.org/name"],(function(e){return e["@language"]===t.selected_language}));return e=Array.isArray(s)&&s.length?s[0]["@value"]:i["http://schema.org/name"][0]["@value"],{text:e,value:i["http://schema.repronim.org/value"][0]["@value"],image:i["http://schema.org/image"]?i["http://schema.org/image"][0]["@value"]:null}}))},isMultipleChoice:function(){return!!this.constraints["http://schema.repronim.org/multipleChoice"]&&this.constraints["http://schema.repronim.org/multipleChoice"][0]["@value"]},isImageSelect:function(){return w.a.filter(this.options,(function(t){return t.image})).length===this.options.length},dataImages:function(){return w.a.map(this.options,(function(t){return{src:t.image,id:t.value,alt:t.text}}))},selectedImages:function(){return[this.dataImages[this.selected]]}},watch:{},mounted:function(){var t=this;void 0!==this.init&&(this.init instanceof Array?this.checkboxSelected=this.init:this.selected=this.init,this.$refs.imageSelect&&this.$nextTick((function(){t.selectedImages[0]&&t.$set(t.$refs.imageSelect,"singleSelected",t.selectedImages[0])})))},methods:{onSubmit:function(t){t.preventDefault(),this.$emit("valueChanged",this.checkboxSelected)},sendData:function(t){this.$emit("valueChanged",t)},onSelectImage:function(t){this.selected=t.id,this.sendData(t.id)}}},vt=mt,gt=(i("7936"),Object(R["a"])(vt,rt,ot,!1,null,null,null)),ft=gt.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-alert",{attrs:{show:!t.supported}},[t._v(t._s(t.$t("audio-support-msg")))]),t.supported?i("div",["audioImageRecord"===t.mode?i("div",{staticClass:"mb-3"},[i("img",{staticClass:"img-fluid",attrs:{src:t.fieldData["http://schema.org/image"][0]["@id"]}})]):t._e(),"audioRecordNumberTask"===t.mode?i("div",{staticClass:"mb-3"},[i("strong",{staticStyle:{"font-size":"30px"}},[t._v(t._s(t.generateNumber))])]):t._e(),"audioRecordAudioTask"===t.mode?i("div",{staticClass:"mb-3"},[i("audio",{attrs:{controls:""}},[i("source",{attrs:{src:t.getAudioSource,type:"audio/mpeg"}}),t._v(" Your browser does not support the audio element. ")])]):t._e(),t.isRecording||t.hasRecording?t._e():i("b-button",{attrs:{variant:"danger"},on:{click:t.record}},[t._v(" "+t._s(t.$t("record-button"))+" ")]),t.isRecording?i("b-button",{on:{click:t.finish}},[t._v(t._s(t.$t("stop-button")))]):t._e(),t.isRecording?i("div",[i("small",[t._v(t._s(t.timeRemaining)+" "+t._s(t.$t("x-seconds-left")))])]):t._e(),t.hasRecording&&!t.isPlaying?i("b-button",{ref:"play",attrs:{variant:"success"},on:{click:t.play}},[i("span",[t._v(" "+t._s(t.$t("play-button"))+" ")])]):t._e(),t.hasRecording&&t.isPlaying?i("b-button",{ref:"play",attrs:{variant:"secondary"},on:{click:t.pause}},[i("span",[t._v(" "+t._s(t.$t("pause-button"))+" ")])]):t._e(),t.hasRecording?i("div",{staticClass:"mt-2"},[i("a",{attrs:{href:""},on:{click:t.reset}},[t._v(t._s(t.$t("redo-recording")))])]):t._e()],1):t._e()],1)},yt=[],wt=(i("3ca3"),i("2ca0"),i("2b3d"),i("47a7")),_t={name:"audioRecord",props:{init:{type:[String,Blob,Array]},mode:{type:String,default:"audioRecord"},constraints:{type:Object},fieldData:{type:Object}},data:function(){return{recording:{},isRecording:!1,hasRecording:!1,audioCtx:{},audioConstraints:{audio:!0,video:!1},mediaRecorder:{},supported:null,interval:{},timeRemaining:null,isPlaying:!1}},computed:{recordingTime:function(){return this.constraints["http://schema.org/maxValue"][0]["@value"]},generateNumber:function(){return 1e5+Math.floor(9e5*Math.random())},getAudioSource:function(){return this.fieldData["http://schema.org/audio"]?this.fieldData["http://schema.org/audio"][0]["http://schema.org/contentUrl"][0]["@id"]:""}},methods:{record:function(){this.isRecording=!0,this.mediaRecorder.start(this.recordingTime),this.interval=setInterval(this.countdown,1e3)},countdown:function(){this.timeRemaining<=0?clearInterval(this.interval):this.timeRemaining-=1},play:function(){this.recording.play(),this.isPlaying=!0},pause:function(){this.recording.pause(),this.endPlay()},endPlay:function(){this.isPlaying=!1},finish:function(){this.mediaRecorder.stop(),this.hasRecording=!0,this.isRecording=!1,clearInterval(this.interval)},reset:function(t){t.preventDefault(),this.hasRecording=!1,this.isRecording=!1,navigator.mediaDevices.getUserMedia(this.audioConstraints).then(this.initialize,this.error)},initialize:function(t){var e=this;this.mediaRecorder=new wt(t),this.mediaRecorder.mimeType="audio/wav",this.timeRemaining=this.recordingTime/1e3,window.mediaRecorder=this.mediaRecorder;var i=this;this.mediaRecorder.ondataavailable=function(t){var s=URL.createObjectURL(t);i.recording.src=s,i.recording.blob=t,e.$emit("valueChanged",e.recording.blob),i.finish()}},error:function(){}},watch:{init:function(){"skip"!==this.init&&"dontKnow"!==this.init||(this.hasRecording=!1)}},mounted:function(){this.recording=new Audio,this.recording.onended=this.endPlay;var t=window.AudioContext||window.webkitAudioContext;if(this.audioCtx=new t,navigator.mediaDevices.getUserMedia){if(this.supported=!0,navigator.mediaDevices.getUserMedia(this.audioConstraints).then(this.initialize,this.error),this.init)if(w.a.isString(this.init))this.init.startsWith("blob")?(this.recording.src=this.init,this.hasRecording=!0):this.hasRecording=!1;else if(this.init instanceof Blob){var e=URL.createObjectURL(this.init);this.recording.src=e,this.recording.blob=this.init,this.hasRecording=!0}else this.hasRecording=!1}else this.supported=!1}},xt=_t,kt=Object(R["a"])(xt,bt,yt,!1,null,null,null),St=kt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"textInput"},[i("b-form",{ref:"form",on:{submit:t.onSubmit}},[i("b-row",[i("b-col",{staticClass:"col-4 col-md-4",attrs:{lg:"4"}},[i("b-form-group",[i("b-form-input",{attrs:{type:"text"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1)],1),t.hasUnit&&Array.isArray(t.options)?i("b-col",{attrs:{lg:"4"}},[i("multiselect",{attrs:{options:this.options,searchable:!1,"show-labels":!1,allowEmpty:!1,placeholder:"unit"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1):t.hasUnit&&!Array.isArray(t.options)?i("div",[i("p",{staticClass:"singleUnit"},[t._v(" "+t._s(t.options))])]):t._e()],1),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},$t=[],jt=i("8e5f"),It=i.n(jt),Ot=(i("e607"),{name:"TextInput",props:["constraints","init","inputType","selected_language"],components:{Multiselect:It.a},data:function(){return{input1:"",input2:""}},methods:{onSubmit:function(t){if(t.preventDefault(),this.$refs.form.className="was-validated",this.hasUnit){var e={value:this.input1,unitCode:this.input2};this.$emit("valueChanged",e)}this.$emit("valueChanged",this.input1)}},computed:{hasUnit:function(){return!!this.constraints["http://schema.org/unitCode"]},options:function(){return this.constraints["http://schema.org/unitCode"].length>1?w.a.map(this.constraints["http://schema.org/unitCode"],(function(t){return t["@value"]})):1===this.constraints["http://schema.org/unitCode"].length?this.constraints["http://schema.org/unitCode"][0]["@value"]:""}},mounted:function(){this.init&&(this.hasUnit?(this.input1=this.init.value,this.input2=this.init.unitCode):this.input1=this.init)}}),Pt=Ot,Rt=(i("2bb9"),Object(R["a"])(Pt,Ct,$t,!1,null,null,null)),At=Rt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"textArea"},[i("b-form",{ref:"form",on:{submit:t.onSubmit}},[i("b-row",{staticClass:"mt-2"},[i("b-col",[i("b-form-textarea",{attrs:{id:"textarea-default",rows:"10"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1)],1),i("br"),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},Tt=[],Ut={name:"TextArea",props:["constraints","init","inputType","selected_language"],components:{},data:function(){return{input1:""}},methods:{onSubmit:function(t){t.preventDefault(),this.$refs.form.className="was-validated",this.$emit("valueChanged",this.input1)}},computed:{},mounted:function(){this.init&&(this.input1=this.init)}},Et=Ut,Mt=Object(R["a"])(Et,Dt,Tt,!1,null,null,null),Lt=Mt.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"IntegerInput"},[i("b-form",{ref:"form",attrs:{novalidate:!0},on:{submit:t.onSubmit}},[i("b-row",[i("b-col",{staticClass:"col-4 col-md-4",attrs:{lg:"4"}},[i("b-form-group",[i("b-form-input",{ref:"integerInput",class:{"is-invalid":!t.isValidInt,"is-valid":t.isValidInt},attrs:{placeholder:"value"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}}),i("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.$t("invalid-feedback-number"))+" ")])],1)],1),t.hasUnit&&Array.isArray(t.options)?i("b-col",{attrs:{lg:"4"}},[i("multiselect",{attrs:{options:this.options,searchable:!1,"show-labels":!1,allowEmpty:!1,placeholder:"unit"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1):t.hasUnit&&!Array.isArray(t.options)?i("div",[i("p",{staticClass:"singleUnit"},[t._v(" "+t._s(t.options))])]):t._e()],1),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},qt=[],Vt=(i("8ba4"),{name:"IntegerInput",props:["constraints","init"],components:{Multiselect:It.a},data:function(){return{input1:"",input2:""}},methods:{onSubmit:function(t){if(t.preventDefault(),this.$refs.form.className="was-validated",this.isValidInt){if(this.hasUnit){var e={value:this.input1,unitCode:this.input2};this.$emit("valueChanged",e)}this.$emit("valueChanged",this.input1)}},isValid:function(){var t=parseFloat(this.input1);return!isNaN(t)&&Number.isInteger(t)}},computed:{isValidInt:function(){return this.isValid(this.input1)},hasUnit:function(){return!!this.constraints["http://schema.org/unitCode"]},options:function(){return this.constraints["http://schema.org/unitCode"].length>1?w.a.map(this.constraints["http://schema.org/unitCode"],(function(t){return t["@value"]})):1===this.constraints["http://schema.org/unitCode"].length?this.constraints["http://schema.org/unitCode"][0]["@value"]:""}},mounted:function(){this.init&&(this.hasUnit?(this.input1=this.init.value,this.input2=this.init.unitCode):this.input1=this.init)}}),zt=Vt,Ft=(i("2128"),Object(R["a"])(zt,Nt,qt,!1,null,null,null)),Bt=Ft.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"FloatInput"},[i("b-form",{ref:"form",attrs:{novalidate:!0},on:{submit:t.onSubmit}},[i("b-row",[i("b-col",{staticClass:"col-4 col-md-4",attrs:{lg:"4"}},[i("b-form-group",[i("b-form-input",{ref:"floatInput",class:{"is-valid":t.isValidFloat},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1)],1),t.hasUnit&&Array.isArray(t.options)?i("b-col",{attrs:{lg:"4"}},[i("multiselect",{attrs:{options:this.options,searchable:!1,"show-labels":!1,allowEmpty:!1,placeholder:"unit"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1):t.hasUnit&&!Array.isArray(t.options)?i("div",[i("p",{staticClass:"singleUnit"},[t._v(" "+t._s(t.options))])]):t._e()],1),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},Qt=[],Ht=(i("f00c"),{name:"FloatInput",props:["constraints","init"],components:{Multiselect:It.a},data:function(){return{input1:"",input2:""}},methods:{onSubmit:function(t){if(t.preventDefault(),this.$refs.form.className="was-validated",this.isValidFloat)if(this.hasUnit){var e={value:this.input1,unitCode:this.input2};this.$emit("valueChanged",e)}else this.$emit("valueChanged",this.input1)},isValid:function(){var t=parseFloat(this.input1);return!isNaN(t)&&Number.isFinite(t)},selectedLanguageLabel:function(t){var e=this,i=w.a.filter(t["http://www.w3.org/2004/02/skos/core#prefLabel"],(function(t){return t["@language"]===e.selected_language}));return Array.isArray(i)&&i.length?i[0]["@value"]:t["http://www.w3.org/2004/02/skos/core#prefLabel"][0]["@value"]}},computed:{isValidFloat:function(){return this.isValid(this.input1)},hasUnit:function(){return!(!this.constraints["http://schema.org/unitCode"]&&!this.constraints["http://schema.repronim.org/unitOptions"])},options:function(){var t=this;if(this.constraints["http://schema.org/unitCode"]){if(this.constraints["http://schema.org/unitCode"].length>1)return w.a.map(this.constraints["http://schema.org/unitCode"],(function(t){return t["@value"]}));if(1===this.constraints["http://schema.org/unitCode"].length)return this.constraints["http://schema.org/unitCode"][0]["@value"]}else if(this.constraints["http://schema.repronim.org/unitOptions"]){if(this.constraints["http://schema.repronim.org/unitOptions"].length>1)return w.a.map(this.constraints["http://schema.repronim.org/unitOptions"],(function(e){return t.selectedLanguageLabel(e)}));if(1===this.constraints["http://schema.repronim.org/unitOptions"].length)return this.selectedLanguageLabel(this.constraints["http://schema.repronim.org/unitOptions"][0])}return""}},mounted:function(){this.init&&(this.hasUnit?(this.input1=this.init.value,this.input2=this.init.unitCode):this.input1=this.init)}}),Yt=Ht,Jt=(i("3458"),Object(R["a"])(Yt,Kt,Qt,!1,null,null,null)),Gt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"DateInput"},[i("datepicker",{attrs:{placeholder:"Select Date",lang:"selected_language",disabledDates:t.dateParam.disabledDates,format:t.customFormatter,minimumView:t.inputType,maximumView:"year",initialView:t.inputType},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},Wt=[],Xt=i("fa33"),te={name:"DateInput",props:["constraints","init","inputType","selected_language"],components:{Datepicker:Xt["a"]},watch:{input:function(){this.$emit("valueChanged",this.input)}},methods:{sendData:function(t){this.$emit("valueChanged",t.getFullYear())},customFormatter:function(t){return"year"===this.inputType?b()(t).format("YYYY"):"date"===this.inputType?b()(t).format("MMM DD YYYY"):t}},data:function(){return{input:null,dateParam:{disabledDates:{from:new Date}}}},mounted:function(){this.init&&("year"===this.inputType?this.input=new Date(this.init,0,365):this.input=this.init)}},ee=te,ie=Object(R["a"])(ee,Zt,Wt,!1,null,null,null),se=ie.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"DocumentUpload"},[i("input",{attrs:{type:"file"},on:{change:t.onFileSelected}}),i("button",{on:{click:t.onSubmit}},[t._v(t._s(t.$t("upload-button")))])])},ae=[],re={name:"DocumentUpload",props:["constraints","init"],watch:{input:function(){this.$emit("valueChanged",this.input)}},methods:{onFileSelected:function(t){this.selectedFile=t.target.files[0]},onSubmit:function(t){t.preventDefault(),this.$emit("valueChanged",this.selectedFile)}},computed:{c:function(){return this.a+this.b}},data:function(){return{selectedFile:null}},mounted:function(){this.init&&(this.selectedFile=this.init)}},oe=re,ce=Object(R["a"])(oe,ne,ae,!1,null,null,null),ue=ce.exports,le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"textInput"},[i("b-form",{on:{submit:t.onSubmit}},[i("b-row",[i("b-col",{attrs:{lg:"4"}},[i("b-input-group",[i("b-form-input",{attrs:{placeholder:"first name",required:""},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-input-group",[i("b-form-input",{attrs:{placeholder:"middle name"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-input-group",[i("b-form-input",{attrs:{placeholder:"family name",required:""},model:{value:t.input3,callback:function(e){t.input3=e},expression:"input3"}})],1)],1)],1),i("br"),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},de=[],pe={name:"TextInput",props:["constraints","init"],methods:{onSubmit:function(t){t.preventDefault();var e={first_name:this.input1,middle_name:this.input2,last_name:this.input3};this.$emit("valueChanged",e)}},data:function(){return{input1:"",input2:"",input3:""}},mounted:function(){this.init&&(this.input1=this.init.first_name,this.input2=this.init.middle_name,this.input3=this.init.last_name)}},he=pe,me=Object(R["a"])(he,le,de,!1,null,null,null),ve=me.exports,ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SliderInput ml-3 mr-3 pl-3 pr-3"},[i("vue-slider",{attrs:{lazy:!0,data:t.interval,marks:!0,process:!1},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),i("b-row",{staticClass:"mt-3 pt-3 pl-0 pr-0"},[i("div",{staticClass:"col text-left pr-0 pl-0"},[t.getMinImageLabel?i("span",[i("img",{staticClass:"imgLabel",attrs:{src:t.getMinImageLabel}})]):t._e(),i("p",[t._v(t._s(t.getMinLabel))])]),i("div",{staticClass:"col text-right pr-0 pl-0"},[t.getMaxImageLabel?i("span",[i("img",{staticClass:"imgLabel",attrs:{src:t.getMaxImageLabel}})]):t._e(),i("p",[t._v(t._s(t.getMaxLabel))])])]),i("b-form",{on:{submit:t.sendData}},[i("b-button",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},fe=[],be=i("4971"),ye=i.n(be),we=(i("24df"),{name:"SliderInput",props:["constraints","init","selected_language"],components:{VueSlider:ye.a},methods:{sendData:function(t){t.preventDefault(),this.$emit("valueChanged",this.input)}},computed:{interval:function(){return w.a.map(this.constraints["http://schema.repronim.org/choices"],(function(t){return t["http://schema.repronim.org/value"][0]["@value"]}))},getMinLabel:function(){var t=this;if(this.constraints["http://schema.repronim.org/choices"]){var e=w.a.filter(this.constraints["http://schema.repronim.org/choices"][0]["http://schema.org/name"],(function(e){return e["@language"]===t.selected_language}));return e[0]["@value"]}return"no min label"},getMaxLabel:function(){var t=this;if(this.constraints["http://schema.repronim.org/choices"]){var e=this.constraints["http://schema.repronim.org/choices"].length,i=w.a.filter(this.constraints["http://schema.repronim.org/choices"][e-1]["http://schema.org/name"],(function(e){return e["@language"]===t.selected_language}));return i[0]["@value"]}return"no max label"},getMinImageLabel:function(){var t=this.constraints["http://schema.repronim.org/choices"];return!!t[0]["http://schema.org/image"]&&t[0]["http://schema.org/image"][0]["@value"]},getMaxImageLabel:function(){var t=this.constraints["http://schema.repronim.org/choices"],e=t.length;return!!t[e-1]["http://schema.org/image"]&&t[e-1]["http://schema.org/image"][0]["@value"]}},data:function(){return{input:null}},mounted:function(){this.init?this.input=this.init:this.input=Math.round(this.interval[this.interval.length-1]/2)}}),_e=we,xe=(i("4921"),Object(R["a"])(_e,ge,fe,!1,null,null,null)),ke=xe.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"TimeRangeInput container ml-3 pl-3"},[i("b-row",{staticClass:"mt-2 mb-2"},[i("b-col",{staticClass:"mt-2 mb-2"},[t._v(" went to bed: "+t._s(t.yesterday)+" "),i("vue-timepicker",{attrs:{format:"hh:mm A"},model:{value:t.slept,callback:function(e){t.slept=e},expression:"slept"}})],1),i("b-col",{staticClass:"mt-2 mb-2"},[t._v(" woke up: "+t._s(t.today)+" "),i("vue-timepicker",{attrs:{format:"hh:mm A"},model:{value:t.woke,callback:function(e){t.woke=e},expression:"woke"}})],1)],1),null!=t.timeSlept?i("div",{staticClass:"mt-2 mb-2"},[t.timeSlept<0?i("div",{staticClass:"mt-2 mb-2"},[i("b-alert",{attrs:{show:"",variant:"danger"}},[t._v("You can't sleep negative hours!")])],1):i("b-button",{on:{click:t.sendData}},[t._v("Submit "+t._s(t.timeSlept)+" hours")])],1):t._e()],1)},Ce=[],$e=i("97fc"),je=i.n($e);window.moment=b.a;var Ie,Oe={name:"timeRangeInput",props:["constraints","init","selected_language","id"],data:function(){return{slept:{hh:"08",mm:"00",A:"PM"},woke:{A:"AM",hh:"06",mm:"00"},today:null,yesterday:null}},components:{VueTimepicker:je.a},computed:{timeSlept:function(){var t=this.sleptAt,e=this.wokeAt,i=e.diff(t,"hours");return isNaN(i)?null:parseInt(i,0)},sleptAt:function(){var t=b()("".concat(this.slept.hh,":").concat(this.slept.mm," ").concat(this.slept.A),"hh:mm A"),e=b()(new Date),i=b()(new Date).add(-1,"days");return"AM"===this.slept.A?(t.set("date",e.get("date")),t.set("month",e.get("month")),t.set("year",e.get("year"))):(t.set("date",i.get("date")),t.set("month",i.get("month")),t.set("year",i.get("year"))),t},wokeAt:function(){var t=b()(new Date),e=b()("".concat(this.woke.hh,":").concat(this.woke.mm," ").concat(this.woke.A),"hh:mm A");return e.set("date",t.get("date")),e.set("month",t.get("month")),e.set("year",t.get("year")),e}},methods:{sendData:function(){this.$emit("valueChanged",{startTime:this.sleptAt.toISOString(),endTime:this.wokeAt.toISOString(),difference:this.timeSlept})}},watch:{init:{handler:function(){this.init},deep:!0}},mounted:function(){if(void 0!==this.init||null!=this.init){var t=b()(this.init.startTime).format("hh:mm A"),e=b()(this.init.endTime).format("hh:mm A");this.slept.A=t.split(" ")[1],this.slept.hh=t.split(":")[0],this.slept.mm=t.split(":")[1].split(" ")[0],this.woke.A=e.split(" ")[1],this.woke.hh=e.split(":")[0],this.woke.mm=e.split(":")[1].split(" ")[0]}}},Pe=Oe,Re=(i("cc07"),Object(R["a"])(Pe,Se,Ce,!1,null,null,null)),Ae=Re.exports,De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SelectInput"},["select"===t.inputType&&this.constraints["http://schema.org/itemListElement"]?i("multiselect",{attrs:{options:this.options,searchable:!1,"show-labels":!1,placeholder:"Pick a value"},on:{input:t.checkNotOtherAndSendData},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):i("multiselect",{attrs:{id:"ajax",placeholder:"Type to search",options:this.options,multiple:t.multipleAllowed,searchable:!0,"internal-search":!0,"clear-on-select":!1,"close-on-select":!0,"options-limit":300,limit:5,"limit-text":t.limitText,"max-height":600,"show-no-results":!1,"hide-selected":!0},on:{input:t.checkNotOtherAndSendData},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v(t._s(t.$t("select-invalid-query")))])]),t.checkOther?i("div",{staticStyle:{display:"block"},attrs:{id:"ifOther"}},[i("br"),i("b-form-input",{attrs:{placeholder:"Please describe"},on:{change:t.sendData},model:{value:t.otherInput,callback:function(e){t.otherInput=e},expression:"otherInput"}})],1):t._e()],1)},Te=[],Ue={name:"SelectInput",props:["reprotermsUrl","constraints","init","selected_language","inputType"],components:{Multiselect:It.a},data:function(){return{selected:null,otherInput:"",options:[],selectedCountries:[],isLoading:!1}},watch:{input:function(){this.$emit("valueChanged",this.selected)}},methods:{checkNotOtherAndSendData:function(t){"Other"!==t&&this.$emit("valueChanged",t)},sendData:function(t){this.$emit("valueChanged",[this.selected,t])},limitText:function(t){return"and ".concat(t," other countries")}},mounted:function(){var t=this;this.init&&(Array.isArray(this.init)?(this.selected=this.init[0],this.otherInput=this.init[1]):this.selected=this.init),this.constraints["http://schema.repronim.org/choices"].length>1?this.options=w.a.map(this.constraints["http://schema.repronim.org/choices"],(function(e){var i=w.a.filter(e["http://schema.org/name"],(function(e){return e["@language"]===t.selected_language}));return i[0]["@value"]})):1===this.constraints["http://schema.repronim.org/choices"].length&&m.a.get(this.constraints["http://schema.repronim.org/choices"][0]["@value"]).then((function(e){"selectCountry"===t.inputType?t.options=w.a.map(e.data,(function(t){return t.country})):"selectState"===t.inputType||"selectLanguage"===t.inputType?t.options=Object.values(e.data):t.options=e.data}))},computed:{multipleAllowed:function(){return!!this.constraints["http://schema.repronim.org/multipleChoice"]},checkOther:function(){return"Other"===this.selected}}},Ee=Ue,Me=Object(R["a"])(Ee,De,Te,!1,null,null,null),Le=Me.exports,Ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-alert",{attrs:{show:!t.supported}},[t._v(t._s(t.$t("audio-support-msg")))]),t.supported?i("div",[t.isRecording||t.hasRecording?t._e():i("b-button",{attrs:{variant:"danger"},on:{click:t.record}},[t._v(" "+t._s(t.$t("start-button"))+" ")]),t.isRecording?i("div",{staticClass:"container-fluid"},[t._m(0)]):t._e(),t.isRecording?i("div",[i("small",[t._v(t._s(t.timeRemaining)+" "+t._s(t.$t("x-seconds-left")))])]):t._e(),t.hasRecording&&!t.isPlaying?i("b-button",{ref:"play",attrs:{variant:"success"},on:{click:t.play}},[i("span",[t._v(" "+t._s(t.$t("play-button"))+" ")])]):t._e(),t.hasRecording&&t.isPlaying?i("b-button",{ref:"play",attrs:{variant:"secondary"},on:{click:t.pause}},[i("span",[t._v(" "+t._s(t.$t("pause-button"))+" ")])]):t._e(),t.hasRecording?i("div",{staticClass:"mt-2"},[i("a",{attrs:{href:""},on:{click:t.reset}},[t._v(t._s(t.$t("redo-recording")))])]):t._e(),t.hasRecording?i("div",{staticClass:"mt-2"},[i("a",{attrs:{href:""},on:{click:t.saveAndContinue}},[t._v(t._s(t.$t("continue")))])]):t._e()],1):t._e()],1)},qe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pids-wrapper"},[i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"}),i("div",{staticClass:"pid"})])}],Ve=(i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("47a7")),ze={name:"audioRecord",props:{init:{type:[String,Blob]},mode:{type:String,default:"audioRecord"},constraints:{type:Object}},data:function(){return{recording:{},isRecording:!1,hasRecording:!1,audioCtx:{},audioConstraints:{audio:!0,video:!1},mediaRecorder:{},supported:null,interval:{},timeRemaining:null,isPlaying:!1,selectedImage:null,hasError:!1}},computed:{recordingTime:function(){return this.constraints["http://schema.org/maxValue"][0]["@value"]}},methods:{record:function(){this.isRecording=!0,this.mediaRecorder.start(this.recordingTime),this.interval=setInterval(this.countdown,1e3)},countdown:function(){this.timeRemaining<=0?clearInterval(this.interval):this.timeRemaining-=1},play:function(){this.recording.play(),this.isPlaying=!0},pause:function(){this.recording.pause(),this.endPlay()},endPlay:function(){this.isPlaying=!1},saveAndContinue:function(t){t.preventDefault(),this.$emit("valueChanged",this.recording.blob)},stop:function(){this.mediaRecorder.stop(),this.hasRecording=!0,this.isRecording=!1,clearInterval(this.interval),this.timeRemaining=this.recordingTime/1e3},reset:function(t){t.preventDefault(),this.hasRecording=!1,this.isRecording=!1,navigator.mediaDevices.getUserMedia(this.audioConstraints).then(this.initialize,this.error)},initialize:function(t){this.mediaRecorder=new Ve(t),this.mediaRecorder.mimeType="audio/wav",this.timeRemaining=this.recordingTime/1e3,window.mediaRecorder=this.mediaRecorder;var e=this;this.mediaRecorder.ondataavailable=function(t){var i=URL.createObjectURL(t);e.recording.src=i,e.recording.blob=t,e.stop()};new AudioContext;var i=this.audioCtx.createAnalyser(),s=this.audioCtx.createMediaStreamSource(t),n=this.audioCtx.createScriptProcessor(2048,1,1);i.smoothingTimeConstant=.8,i.fftSize=1024,s.connect(i),i.connect(n),n.connect(this.audioCtx.destination),n.onaudioprocess=function(){var t=new Uint8Array(i.frequencyBinCount);i.getByteFrequencyData(t);for(var e=0,s=t.length,n=0;n<s;n+=1)e+=t[n];for(var a=e/s,r=document.getElementsByClassName("pid"),o=Math.round(a/10),c=0;c<r.length;c+=1)r[c].style.backgroundColor="#e6e7e8";if(o<=r.length)for(var u=0;u<o;u+=1)r[u].style.backgroundColor="#69ce2b"}},error:function(){console.log(191),this.hasError=!0}},watch:{init:function(){"skip"!==this.init&&"dontKnow"!==this.init||(this.hasRecording=!1)}},mounted:function(){var t=this;this.recording=new Audio,this.recording.onended=this.endPlay,void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var i=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return i?new Promise((function(t,s){i.call(navigator,e,t,s)})):(t.supported=!1,Promise.reject(new Error("getUserMedia is not implemented in this browser")))});var e=window.AudioContext||window.webkitAudioContext;if(this.audioCtx=new e,navigator.mediaDevices.getUserMedia){if(this.supported=!0,navigator.mediaDevices.getUserMedia(this.audioConstraints).then(this.initialize,this.error),this.init)if(w.a.isString(this.init))this.init.startsWith("blob")?(this.recording.src=this.init,this.hasRecording=!0):this.hasRecording=!1;else if(this.init instanceof Blob){var i=URL.createObjectURL(this.init);this.recording.src=i,this.recording.blob=this.init,this.hasRecording=!0}else this.hasRecording=!1}else this.supported=!1}},Fe=ze,Be=(i("989b"),Object(R["a"])(Fe,Ne,qe,!1,null,null,null)),Ke=Be.exports,Qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"staticReadOnly"},[t.input?i("div",[i("h4",[t._v(" "+t._s(t.input))]),i("br"),i("b-btn",{on:{click:t.onSubmit}},[t._v(" Done ")])],1):i("div",[i("b-alert",{attrs:{show:""}},[t._v(' Parameter could not be retrieved at this time. Please contact "'+t._s(t.contact)+'" for further assistance. ')])],1)])},He=[],Ye={name:"StaticReadOnly",props:["constraints","init","result","selected_language"],methods:{onSubmit:function(t){t.preventDefault(),this.input&&this.$emit("valueChanged",this.input)}},data:function(){return{contact:M.a.contact,input:""}},computed:{getPId:function(){return this.$store.getters.getParticipantId}},mounted:function(){this.getPId&&(this.input=this.getPId),this.init&&(this.input=this.init)}},Je=Ye,Ge=Object(R["a"])(Je,Qe,He,!1,null,null,null),Ze=Ge.exports,We=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SaveData ml-3 mr-3 pl-3 pr-3"},[t.isUploading||t.hasData||t.hasTimedOut?t._e():i("div",[t.shouldUpload?i("div",[i("p",[t._v(t._s(t.$t("save-data")))]),t.downloadAndSubmit?i("b-button",{ref:"upload",attrs:{variant:"danger"},on:{click:t.upload}},[t._v(" "+t._s(t.$t("download-and-submit-button"))+" ")]):i("b-button",{ref:"upload",attrs:{variant:"danger"},on:{click:t.upload}},[t._v(" "+t._s(t.$t("upload-button"))+" ")])],1):i("div",[t.exportOption?i("p",[t._v(t._s(t.$t("export-and-finish")))]):i("p",[t._v(t._s(t.$t("finish")))]),i("b-button",{attrs:{variant:"danger"},on:{click:t.finish}},[t._v(" "+t._s(t.$t("finish-button"))+" ")])],1)]),t.isUploading&&t.percentCompleted>0&&t.showProgressBar?i("div",{staticClass:"loader"},[i("p",[t._v(t._s(t.$t("upload-message")))]),i("b-progress",{attrs:{max:100,striped:t.hasStripe}},[i("b-progress-bar",{attrs:{value:100*t.percentCompleted,label:100*t.percentCompleted+"%",animated:""}})],1)],1):t.isUploading&&0===t.percentCompleted?i("div",[i("p",[t._v(t._s(t.$t("prepare-upload")))]),i("Loader")],1):t._e(),i("b-modal",{ref:"timeout-modal",attrs:{"ok-title":"Done","ok-only":"",title:"Uh-oh! Upload unsuccessful!","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""},on:{ok:t.timeoutOK},model:{value:t.timeout,callback:function(e){t.timeout=e},expression:"timeout"}},[t.dataUploadPath?i("p",[t._v("Please submit your locally exported zip file "),i("a",{attrs:{href:t.dataUploadPath,target:"_blank"}},[t._v("here")])]):i("p",[t._v("Let researchers know with the "),i("b",[t._v("Help")]),t._v(" button or by email to "+t._s(t.contact))])]),i("div",{class:{done:t.hasData},staticStyle:{width:"800px",margin:"0 auto"}})],1)},Xe=[],ti=(i("a434"),i("b680"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),ei=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layer-preloader"},[i("div",{staticClass:"loading"},[i("div",{staticClass:"loader firstColor"},[i("div",{staticClass:"loader secondColor"},[i("div",{staticClass:"loader thirdColor"})])])])])}],ii={},si=ii,ni=(i("930c"),Object(R["a"])(si,ti,ei,!1,null,null,null)),ai=ni.exports,ri=[],oi=0,ci={name:"SaveData",props:["constraints","init","selected_language","ipAddress"],components:{Loader:ai},data:function(){return{recording:{},isUploading:!1,hasData:!1,percentCompleted:0,timeout:!1,uploadFailed:!1,showProgressBar:!0,invalidToken:!1,downloadAndSubmit:M.a.downloadAndSubmit,dataUploadPath:M.a.dataUploadPath,contact:M.a.contact}},computed:{shouldUpload:function(){return!(!M.a.backendServer||!this.$store.getters.getAuthToken)},participantId:function(){return this.$store.getters.getParticipantId},exportOption:function(){return this.$store.getters.getHasExport},hasStripe:function(){return!(100===this.percentCompleted)},hasTimedOut:function(){return this.timeout}},methods:{finish:function(){this.hasData=!0,this.$emit("valueChanged","completed")},timeoutOK:function(){this.$emit("valueChanged","timeout")},upload:function(){this.isUploading=!0,this.uploadZipData()},uploadZipData:function(){var t=this.$store.state.exportResponses,e=this.$store.state.scores,i=this.$store.state.participantId,s={response:t,scores:e,participantId:i};this.formatData(s)},formatData:function(t){var e=this,i=this.$store.getters.getAuthToken,s=this.$store.state.expiryMinutes,n=new x.a,a=0,o="".concat(Object(k["v4"])(),"-").concat(this.participantId);w.a.map(t.response,(function(t){var e=[];w.a.map(t,(function(t){var i=Object(r["a"])({},t);if("reproschema:Response"===t["@type"]&&t.value instanceof Blob){var s=t.isAbout.split("/"),a=t["@id"].split("uuid:")[1];n.folder(o).file("".concat(s[s.length-1],"-").concat(a,".wav"),t.value),i.value="".concat(s[s.length-1],"-").concat(a,".wav")}e.push(i)})),e.length&&(n.folder(o).file("activity_".concat(a,".jsonld"),JSON.stringify(e,null,4)),a+=1)})),n.generateAsync({type:"blob"}).then((function(t){e.downloadAndSubmit&&Object($["saveAs"])(t,"".concat(o,".zip"));var n,a=1e7,r=t.size,c=0,u=c+a;while(c<r)n=u>r?t.slice(c,r+1,"Blob"):t.slice(c,u,"Blob"),ri.push(n),1,c=u,u=c+a;Ie=ri.length;for(var l=[],d=0;d<ri.length;d++){var p=new FormData;if(p.append("file",ri[d],"".concat(o,".zip.00").concat(d)),p.append("auth_token","".concat(i)),p.append("expires","".concat(s)),l.push(e.sendRetry("".concat(M.a.backendServer,"/submit"),p,d)),e.timeout)break}Promise.all(l).then((function(t){e.isUploading=!1,e.hasData=!0,e.$emit("valueChanged",{status:t})}))}))},sendRetry:function(t,e,i){var s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4,r={"Content-Type":"multipart/form-data"};return m.a.post("".concat(M.a.backendServer,"/submit"),e,r).then((function(t){ri.splice(i,1),oi++;var e=oi/Ie;return s.percentCompleted=e.toFixed(2),t.status})).catch((function(r){if(!(n>0))return s.timeout=!0,s.showProgressBar=!1,r.response.status;setTimeout((function(){return s.sendRetry(t,e,i,n-1,2*a)}),a)}))}}},ui=ci,li=(i("41a5"),Object(R["a"])(ui,We,Xe,!1,null,null,null)),di=li.exports,pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"docked-layout"},[i("section",[i("div",{ref:"consentDoc",staticClass:"consent-doc"},[t._m(0),i("section"),t._v(" "),t._m(1),t._m(2),t._m(3),i("section",[i("div",{staticClass:"research container"},[i("object",{attrs:{data:"/static/images/Step3.svg",type:"image/svg+xml"}}),i("div",[t._v("My data will be used for research as described in the study information ("),i("router-link",{attrs:{to:"/study/consent-review"}},[t._v("https://"),i("wbr"),t._v("parkinsonmpower."),i("wbr"),t._v("org/"),i("wbr"),t._v("consent")]),t._v(").")],1)])]),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9)]),i("footer",[i("form",{staticClass:"slider",attrs:{onsubmit:"return false"}},[i("div",{staticClass:"slider-element animated",class:{slideOutLeft:t.showSharing}},[i("div",{staticClass:"inner"},[i("h1",[t._v("Please review and sign below if you want to join.")]),i("p",[t._v("I have read and understand the above information. All of my questions have been answered. I freely and willingly choose to take part in the mPower Progression Study. By signing this consent I have not given up any of my legal rights.")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"Please type your full name here"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),i("div",{staticClass:"buttons"},[i("b-button",{attrs:{variant:"primary"},on:{click:t.reject}},[t._v(" Disagree ")]),i("b-button",{attrs:{variant:"success",disabled:t.canSubmit},on:{click:t.accept}},[t._v(" Accept ")])],1)])])])])])])},hi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"preamble-section"},[i("div",{staticClass:"preamble container"},[i("div",[i("h2",[t._v("mPower Progression Study")]),i("h3",[t._v("Consent and Authorization Contents")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"assertion container"},[i("div",[t._v("I understand:")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"will-use container"},[i("object",{attrs:{data:"/static/images/Step1.svg",type:"image/svg+xml"}}),i("div",[t._v("I will use the mPower app to answer questions and do short physical and cognitive activities. The app will help me track my symptoms, triggers, and medications.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"privacy container"},[i("object",{attrs:{data:"/static/images/Step2.svg",type:"image/svg+xml"}}),i("div",[t._v("My study data will be encrypted and transferred from my phone. It will be stored on Sage Bionetworks’ secure cloud-based database.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"sharing-scope container"},[i("object",{attrs:{data:"/static/images/Step4.svg",type:"image/svg+xml"}}),i("div",[t._v("I have the option to share my coded study data for future research. It is up to me. I can say yes or no.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"risks-benefits container"},[i("object",{attrs:{data:"/static/images/Step5.svg",type:"image/svg+xml"}}),i("div",[t._v("The main risk of participating in the mPower Progression Study is to my privacy and confidentiality. This risk is low but not zero. The main benefit is seeing the trends in my data over time.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"unpaid container"},[i("object",{attrs:{data:"/static/images/Step6.svg",type:"image/svg+xml"}}),i("div",[t._v("mPower Progression Study is a research study. The mPower app shouldn’t be used for diagnosis or treatment decision.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"not-medical container"},[i("object",{attrs:{data:"/static/images/Step7.svg",type:"image/svg+xml"}}),i("div",[t._v("I will not get paid for participating in this study. I will not receive any profit from the use of my data in this or future research.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"voluntary container"},[i("object",{attrs:{data:"/static/images/Step8.svg",type:"image/svg+xml"}}),i("div",[t._v("I can withdraw (quit) at any time for any reason. There is no penalty if I withdraw .")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"contact container"},[i("object",{attrs:{data:"/static/images/Step9.svg",type:"image/svg+xml"}}),i("div",[t._v("My contact information may be used to tell me about other studies.")])])])}],mi={name:"StudySign",data:function(){return{name:"",showSharing:!1,scope:""}},mounted:function(){this.init&&(this.name=this.init)},computed:{canSubmit:function(){return this.showSharing?""===this.scope:0===this.name.length}},methods:{reject:function(){this.$emit("valueChanged","disagree")},accept:function(){console.log(140,this.name),this.$emit("valueChanged",this.name)}}},vi=mi,gi=(i("3548"),i("fb9a"),Object(R["a"])(vi,pi,hi,!1,null,"7a01fc37",null)),fi=gi.exports,bi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"static"})},yi=[],wi={name:"Static",props:["constraints","init","result","selected_language"],methods:{onSubmit:function(t){t.preventDefault(),this.result?(this.$emit("valueChanged",this.result),this.input="Success"):this.input="Fail"}},data:function(){return{input:"show result"}},mounted:function(){this.init&&(this.input=this.init)}},_i=wi,xi=Object(R["a"])(_i,bi,yi,!1,null,null,null),ki=xi.exports,Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"IntegerInput"},[i("b-form",{ref:"form",attrs:{novalidate:!0},on:{submit:t.onSubmit}},[i("b-form-group",[i("b-form-input",{ref:"integerInput",class:{"is-invalid":!t.isValidEmail,"is-valid":t.isValidEmail},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),i("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.$t("invalid-email"))+" ")])],1),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},Ci=[],$i={name:"EmailInput",props:["constraints","init"],methods:{onSubmit:function(t){t.preventDefault(),this.$refs.form.className="was-validated",this.isValidEmail&&this.$emit("valueChanged",this.input)},isValid:function(t){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)}},computed:{isValidEmail:function(){return this.isValid(this.input)}},data:function(){return{input:null}},mounted:function(){this.init&&(this.input=this.init)}},ji=$i,Ii=Object(R["a"])(ji,Si,Ci,!1,null,null,null),Oi=Ii.exports,Pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"participantId"},[i("b-form",{on:{submit:t.onSubmit}},[i("b-form-group",[i("b-form-input",{model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),i("b-btn",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit-button")))])],1)],1)},Ri=[],Ai={name:"ParticipantId",props:["constraints","init"],methods:{onSubmit:function(t){t.preventDefault(),this.$emit("valueChanged",this.input)}},data:function(){return{input:"",p_uuid:""}},computed:{getPId:function(){return this.$store.getters.getParticipantId}},mounted:function(){this.getPId?this.input=this.getPId:(this.p_uuid=Object(k["v4"])(),this.input=this.p_uuid),this.init&&(this.input=this.init)}},Di=Ai,Ti=Object(R["a"])(Di,Pi,Ri,!1,null,null,null),Ui=Ti.exports,Ei={name:"InputSelector",props:{reprotermsUrl:{type:String},inputType:{type:String},readOnly:{type:Boolean},title:{type:String},valueConstraints:{type:Object},fieldData:{type:Object},init:{},selected_language:{type:String},showPassOptions:{type:Object},showItemPassOptions:{type:Object},preamble:{type:String},ipAddress:{type:String}},components:{ParticipantId:Ui,StudySign:fi,SaveData:di,Radio:ft,AudioRecord:St,TextInput:At,TextArea:Lt,EmailInput:Oi,IntegerInput:Bt,FloatInput:Gt,DateInput:se,DocumentUpload:ue,MultiTextInput:ve,SliderInput:ke,TimeRange:Ae,SelectInput:Le,AudioCheck:Ke,StaticReadOnly:Ze,Static:ki},data:function(){return{}},methods:{skip:function(){this.$emit("skip")},dontKnow:function(){this.$emit("dontKnow")},sendData:function(t){t instanceof Date?this.$emit("valueChanged",t.getFullYear()):this.$emit("valueChanged",t),this.$emit("next")}}},Mi=Ei,Li=(i("0d20"),Object(R["a"])(Mi,nt,at,!1,null,null,null)),Ni=Li.exports,qi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.listShow.length?i("div",[t.preambleText?i("div",{staticClass:"preamble-text mb-2"},[i("strong",[t._v(" "+t._s(t.preambleText)+" ("+t._s(t.currentIndex+1)+" / "+t._s(t.context.length)+")")])]):t._e()]):i("div",[i("h1",[t._v(t._s(t.$t("loader"))+"...")])]),i("survey-item",{key:t.currentItem["@id"],attrs:{item:t.currentItem,index:t.currentIndex,init:t.responses[t.currentItem["@id"]],responses:t.responses,selected_language:t.selected_language,reprotermsUrl:t.reprotermsUrl,score:t.score,showPassOptions:t.showPassOptions},on:{skip:function(e){return t.nextQuestion(t.currentIndex,1,0)},dontKnow:function(e){return t.nextQuestion(t.currentIndex,0,1)},next:function(e){return t.nextQuestion(t.currentIndex,0)},setData:t.setResponse}}),null!==t.showPassOptions?i("div",{staticClass:"text-right mt-3"},[i("b-button",{attrs:{variant:"default"},on:{click:t.restart}},[t._v(t._s(t.$t("restart-button")))]),t.showPassOptions["dontKnow"]?i("b-button",{attrs:{variant:"default"},on:{click:t.dontKnow}},[t._v(t._s(t.$t("dont-know")))]):t._e(),t.showPassOptions["skip"]?i("b-button",{attrs:{variant:"default"},on:{click:t.skip}},[t._v(t._s(t.$t("skip")))]):t._e()],1):t._e()],1)},Vi=[],zi=i("e8a6"),Fi={name:"MultiPart",props:{reprotermsUrl:{type:String},srcUrl:{type:String},progress:{type:Number},responses:{type:Object},selected_language:{type:String,default:"en"},showPassOptions:{type:Object}},data:function(){return{activity:{},listShow:[],parsedJSONLD:{},visibility:{},score:0,currentIndex:0}},components:{Loader:ai},mounted:function(){this.srcUrl&&this.getData()},methods:{getData:function(){var t=this;C.a.expand(this.srcUrl).then((function(e){t.activity=e[0],t.listShow=[0],t.$nextTick((function(){var e=w.a.filter(t.context,(function(e){return Object.keys(t.responses).indexOf(e["@id"])>-1}));e.length?t.listShow=w.a.map(new Array(e.length+1),(function(t,e){return e})):t.listShow=[0],t.visibility=t.getVisibility(t.responses)}))})).catch((function(t){}))},getVisibility:function(t){var e=this,i=this.responseMapper(t);if(!w.a.isEmpty(this.activity["".concat(this.reprotermsUrl,"visibility")])){var s={};return w.a.map(this.activity["".concat(this.reprotermsUrl,"visibility")],(function(t){var n=t["@value"];w.a.isString(t["@value"])&&(n=e.evaluateString(t["@value"],i)),i[t["@index"]]&&(s[i[t["@index"]].ref]=n)})),s}return{}},responseMapper:function(t){var e=this,i=w.a.map(this.order,(function(t){return t["@id"]}));if(this.activity["".concat(this.reprotermsUrl,"variableMap")]){var s=this.activity["".concat(this.reprotermsUrl,"variableMap")][0]["@list"],n=w.a.map(s,(function(i){var s=i["".concat(e.reprotermsUrl,"isAbout")][0]["@id"],n=i["".concat(e.reprotermsUrl,"variableName")][0]["@value"],a=t[s];return{key:s,val:a,qId:n}})),a={};return w.a.map(n,(function(t){a[t.qId]={val:t.val,ref:t.key}})),a}var r=w.a.map(i,(function(e){var i=t[e],s=e.split("/"),n=s[s.length-1],a=n.split(".jsonld")[0];return{key:e,val:i,qId:a}})),o={};return w.a.map(r,(function(t){o[t.qId]={val:t.val,ref:t.key}})),o},evaluateString:function(t,e){var i=Object.keys(e),s=t;return w.a.map(i,(function(t){var i=e[t].val;"skipped"!==i&&"dontknow"!==i?(w.a.isString(i)&&(i="'".concat(i,"'")),s=s.replace(t,i)):s=s.replace(t,0)})),zi(s)},restart:function(){this.currentIndex=0,this.listShow=[0],this.$emit("clearResponses")},skip:function(t){this.$emit("skip",t)},dontKnow:function(){this.$emit("dontKnow")},updateProgress:function(){var t=this.context.length,e=Object.keys(this.responses).length/t*100;this.$emit("updateProgress",e),100===e&&this.$emit("valueChanged",this.responses)},setResponse:function(t,e){this.$emit("saveResponse",this.context[e]["@id"],t);var i=Object(r["a"])({},this.responses);i[this.context[e]["@id"]]=t,this.updateProgress(),this.$forceUpdate()},nextQuestion:function(t,e,i){document.body.scrollTop=0,document.documentElement.scrollTop=0,e&&this.setResponse("skipped",t),i&&this.setResponse("dontKnow",t),this.currentIndex<this.context.length-1&&(this.currentIndex=Object.keys(this.responses).length)}},watch:{srcUrl:function(){this.srcUrl&&this.getData()}},computed:{currentItem:function(){return this.context[this.currentIndex]},order:function(){return this.activity["".concat(this.reprotermsUrl,"order")][0]["@list"]},context:function(){if(this.activity["".concat(this.reprotermsUrl,"order")]){var t=this.activity["".concat(this.reprotermsUrl,"order")][0]["@list"];return t}return[{}]},preambleText:function(){var t=this;if(this.activity["".concat(this.reprotermsUrl,"preamble")]){var e=w.a.filter(this.activity["".concat(this.reprotermsUrl,"preamble")],(function(e){return e["@language"]===t.selected_language}));return e[0]["@value"]}return""}}},Bi=Fi,Ki=Object(R["a"])(Bi,qi,Vi,!1,null,null,null),Qi=Ki.exports,Hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.listShow.length?i("div",[t.preambleText?i("div",{staticClass:"preamble-text mb-2"},[i("strong",[t._v(" "+t._s(t.preambleText)+" ")])]):t._e()]):i("div",[i("h1",[t._v(t._s(t.$t("loader"))+"...")]),i("Loader")],1),i("transition-group",{attrs:{name:"list",tag:"div",mode:"in-out"}},t._l(t.contextReverse,(function(e,s){return i("div",{key:e["@id"]+s,staticClass:"mt-3 mb-3"},[i("transition",{key:"t"+e["@id"],attrs:{name:"list"}},[t.shouldShow[s]?i("survey-item",{key:"c"+e["@id"],attrs:{item:e,index:t.contextReverse.length-s-1,init:t.responses[e["@id"]],responses:t.responses,selected_language:t.selected_language,showPassOptions:t.showPassOptions,reprotermsUrl:t.reprotermsUrl},on:{skip:function(e){return t.nextQuestion(t.contextReverse.length-s-1,1,0)},dontKnow:function(e){return t.nextQuestion(t.contextReverse.length-s-1,0,1)},next:function(e){return t.nextQuestion(t.contextReverse.length-s-1,0)},setData:t.setResponse}}):t._e()],1),i("b-modal",{ref:"invalid-token-modal",refInFor:!0,attrs:{"ok-only":"",title:"Helpline!","hide-footer":"","header-class":"justify-content-center"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("p",{staticClass:"contact"},[t._v("If you're thinking about suicide, are worried about a friend or loved one, or would like emotional support, there are resources available 24/7. Your call or text is confidential and free.")]),i("p",[t._v("Call the Suicide Prevention Lifeline in the United States:")]),i("p",[t._v("English: 1-800-273-8255")]),i("p",[t._v("Español: 1-888-628-9454")]),i("br"),i("p",[t._v("Text the Crisis TextLine through SMS:")]),i("p",[t._v("US or Canada: 741741")]),i("p",{staticClass:"contact"},[i("a",{attrs:{href:"https://www.messenger.com/login.php?next=https%3A%2F%2Fwww.messenger.com%2Ft%2F204427966369963%2F%3Fmessaging_source%3Dsource%253Apages%253Amessage_shortlink",target:"_blank"}},[t._v("Facebook Messenger")])]),i("p",[t._v("For other countries:")]),i("p",{staticClass:"contact"},[i("a",{attrs:{href:"https://www.befrienders.org",target:"_blank"}},[t._v("www.befrienders.org")])])])],1)})),0),null!==t.showPassOptions?i("div",{staticClass:"text-right mt-3"},[i("b-button",{attrs:{variant:"default"},on:{click:t.restart}},[t._v("Restart")]),t.showPassOptions["dontKnow"]?i("b-button",{attrs:{variant:"default"},on:{click:t.dontKnow}},[t._v("Don't Know")]):t._e(),t.showPassOptions["skip"]?i("b-button",{attrs:{variant:"default"},on:{click:t.skip}},[t._v("Skip")]):t._e()],1):t._e()],1)},Yi=[],Ji=i("03a5"),Gi=i.n(Ji);i("c5c5");s["default"].use(Gi.a);var Zi=i("e8a6"),Wi={name:"Section",props:{reprotermsUrl:{type:String},srcUrl:{type:String},progress:{type:Number},responses:{type:Object},selected_language:{type:String,default:"en"},showPassOptions:{type:Object}},data:function(){return{activity:{},listShow:[],parsedJSONLD:{},visibility:{},scores:{},currentIndex:0,showModal:!1}},components:{Loader:ai},mounted:function(){this.srcUrl&&(this.getData(),this.t0=performance.now())},methods:{getData:function(){var t=this;C.a.expand(this.srcUrl).then((function(e){t.activity=e[0],t.listShow=[0],t.$nextTick((function(){var e=w.a.filter(t.context,(function(e){return Object.keys(t.responses).indexOf(e["@id"])>-1}));e.length?t.listShow=w.a.map(new Array(e.length+1),(function(t,e){return e})):t.listShow=[0],t.visibility=t.getVisibility(t.responses)}))}))},getVisibility:function(t){var e=this,i=this.responseMapper(t);if(!w.a.isEmpty(this.activity["http://schema.repronim.org/addProperties"])){var s={};return w.a.map(this.activity["http://schema.repronim.org/addProperties"],(function(t){var n=!0;t["".concat(e.reprotermsUrl,"isVis")]&&(n=t["".concat(e.reprotermsUrl,"isVis")][0]["@value"]),w.a.isString(n)&&(n=e.evaluateString(n,i)),i[t["".concat(e.reprotermsUrl,"variableName")][0]["@value"]]&&(s[i[t["".concat(e.reprotermsUrl,"variableName")][0]["@value"]].ref]=n)})),s}return{}},responseMapper:function(t){var e;if(this.activity["http://schema.repronim.org/addProperties"]){var i=this.activity["http://schema.repronim.org/addProperties"];e=w.a.map(i,(function(e){var i=e["http://schema.repronim.org/isAbout"][0]["@id"],s=e["http://schema.repronim.org/variableName"][0]["@value"],n=t[i];return{key:i,val:n,qId:s}}))}if(this.$store.getters.getQueryParameters){var s=this.$store.getters.getQueryParameters;Object.entries(s).forEach((function(t){var i=Object(u["a"])(t,2),s=i[0],n=i[1],a=s;"week"===s&&(n=parseInt(n));var r=n;e.push({key:s,val:r,qId:a})}))}var n={};return w.a.map(e,(function(t){n[t.qId]={val:t.val,ref:t.key}})),n},evaluateString:function(t,e){var i=Object.keys(e),s=t;return w.a.map(i,(function(t){var i=e[t].val;Array.isArray(e[t].val)&&(i=e[t].val[0]),"http://schema.repronim.org/Skipped"!==i&&"http://schema.repronim.org/DontKnow"!==i?(w.a.isString(i)&&(i="'".concat(i,"'")),s=s.replace(new RegExp("\\b".concat(t,"\\b")),i)):s=s.replace(new RegExp("\\b".concat(t,"\\b")),0)})),Zi(s)},restart:function(){this.currentIndex=0,this.listShow=[0],this.$emit("clearResponses")},skip:function(t){this.$emit("skip",t)},dontKnow:function(){this.$emit("dontKnow")},updateProgress:function(){var t=this.context.length;w.a.isEmpty(this.visibility)||(t=w.a.filter(this.visibility).length);var e=Object.keys(this.responses).length/t*100;this.$emit("updateProgress",e),100===e&&this.$emit("next")},setResponse:function(t,e){var i=this,s=this.context[e]["@id"],n=new Date,a=n.toISOString(),o="".concat(window.location.origin);window.location.pathname&&(o="".concat(o).concat(window.location.pathname));var c=Object(k["v4"])(),u=Object(k["v4"])(),l=("uuid:".concat(c),"".concat(s),"".concat(this.srcUrl),this.getAnsweredLanguage,this.t0,"uuid:".concat(u),{"@context":"https://raw.githubusercontent.com/ReproNim/reproschema/1.0.0-rc2/contexts/generic","@type":"reproschema:Response","@id":"uuid:".concat(u),wasAttributedTo:{"@id":this.$store.state.participantUuid},isAbout:s,value:t});this.participantId&&(l.wasAttributedTo.subject_id=this.participantId),this.$emit("saveResponse",this.context[e]["@id"],t);var d={};d[this.context[e]["@id"]]=t,this.$emit("valueChanged",d),this.t0=a;var p=Object(r["a"])({},this.responses);p[this.context[e]["@id"]]=t instanceof Object?l.value:t,this.visibility=this.getVisibility(p),w.a.isEmpty(this.activity["http://schema.repronim.org/compute"])||(w.a.map(this.getScoring(this.responses),(function(t,e){w.a.isNaN(t)||(i.scores[e]=t)})),w.a.isEmpty(this.scores)||this.$emit("saveScores",this.srcUrl,this.scores)),this.updateProgress(),this.$forceUpdate()},getScoring:function(t){var e=this,i=this.responseMapper(t);if(!w.a.isEmpty(this.activity["http://schema.repronim.org/compute"])){var s={};return w.a.map(this.activity["http://schema.repronim.org/compute"],(function(t){var n=t["".concat(e.reprotermsUrl,"jsExpression")][0]["@value"],a=t["".concat(e.reprotermsUrl,"variableName")][0]["@value"];w.a.isString(n)&&(n=e.evaluateString(n,i)),i[a]&&(s[i[a].ref]=n)})),s}return{}},checkAlertMessage:function(t){var e=this,i=this.$store.getters.getProtocolSchema,s=0;if(!s&&i["http://schema.repronim.org/overrideProperties"]);else if(!s&&i["http://schema.repronim.org/addProperties"]){var n=w.a.filter(i["http://schema.repronim.org/addProperties"],(function(i){i["http://schema.repronim.org/isAbout"][0]["@id"],e.context[t]["@id"]}));s=n.length?1:0}if(!s&&this.activity["http://schema.repronim.org/overrideProperties"]);else w.a.filter(this.activity["http://schema.repronim.org/addProperties"],(function(i){return i["http://schema.repronim.org/isAbout"][0]["@id"]===e.context[t]["@id"]&&i["http://schema.repronim.org/message"]}));var a=this.context[t]["@id"].split("/");8===t&&"phq9_9"===a[a.length-1]&&this.responses[this.context[t]["@id"]]>0&&(this.showModal=!0)},nextQuestion:function(t,e,i){if(document.body.scrollTop=0,document.documentElement.scrollTop=0,this.checkAlertMessage(t),e&&this.setResponse("http://schema.repronim.org/Skipped",t),i&&this.setResponse("http://schema.repronim.org/DontKnow",t),this.$forceUpdate(),t>=this.listShow.length-1){var s=w.a.max(this.listShow)+1;this.listShow.push(s);for(var n=s;n<this.context.length;n+=1){var a=this.order(),r=a[n]["@id"],o=this.visibility[r];if(void 0===o&&(o=!0),o)break;this.listShow.push(n+1)}this.$store&&this.$store.dispatch("updateListShow",this.listShow)}},order:function(){if(this.activity["http://schema.repronim.org/shuffle"]&&this.activity["http://schema.repronim.org/shuffle"][0]["@value"]){var t=this.activity["http://schema.repronim.org/order"][0]["@list"],e=w.a.shuffle(t);return e}return this.activity["http://schema.repronim.org/order"][0]["@list"]}},watch:{srcUrl:function(){this.srcUrl&&this.getData()}},computed:{currentItem:function(){return this.context[this.currentIndex]},shouldShow:function(){var t=this;return w.a.map(this.contextReverse,(function(e,i){var s=t.listShow.indexOf(t.contextReverse.length-i-1)>=0,n=!0;return w.a.isEmpty(t.visibility)||(n=t.visibility[e["@id"]]),s&&n}))},context:function(){if(this.activity["http://schema.repronim.org/order"]){var t=this.order();return t}return[{}]},contextReverse:function(){return this.context.length>0?this.context.slice().reverse():{}},preambleText:function(){var t=this;if(this.activity["".concat(this.reprotermsUrl,"preamble")]){var e=w.a.filter(this.activity["".concat(this.reprotermsUrl,"preamble")],(function(e){return e["@language"]===t.selected_language}));return e[0]["@value"]}return""},findPassOptions:function(){var t=this;if(this.activity[this.reprotermsUrl+"allow"]){var e=!1,i=!1;return w.a.map(this.activity["".concat(this.reprotermsUrl,"allow")][0]["@list"],(function(s){s["@id"]==="".concat(t.reprotermsUrl,"refused_to_answer")?e=!0:s["@id"]==="".concat(t.reprotermsUrl,"dont_know_answer")&&(i=!0)})),{skip:e,dontKnow:i}}return null}}},Xi=Wi,ts=Object(R["a"])(Xi,Hi,Yi,!1,null,null,null),es=ts.exports,is={name:"SurveyItem",props:{reprotermsUrl:{type:String},item:{type:Object},index:{type:Number},init:{},responses:{type:Object},selected_language:{type:String},clientIp:{type:String},showPassOptions:{type:Object},surveyStart:{type:Number},individualPassList:{type:Array}},components:{InputSelector:Ni,multipart:Qi,subactivity:es,Loader:ai},data:function(){return{data:[],valueC:{},status:"loading",mp_responses:{},mp_progress:0,variant:null,requireVal:!1,itemAllow:{}}},computed:{style:function(){return"section"===this.ui||"multipart"===this.ui?{"border-color":"white","-webkit-box-flex":1,flex:"1 1 auto"}:{width:"100%"}},bodyStyle:function(){return"section"===this.ui||"multipart"===this.ui?{padding:0}:{}},ui:function(){return this.data["@type"]&&"http://schema.repronim.org/Activity"===this.data["@type"][0]?"section":this.data["http://schema.repronim.org/inputType"]?this.data["http://schema.repronim.org/inputType"][0]["@value"]:"N/A"},widgetType:function(){return!!this.data["http://schema.org/readonlyValue"]&&this.data["http://schema.org/readonlyValue"][0]["@value"]},title:function(){var t=this;if(this.data["http://schema.org/question"]){var e=w.a.filter(this.data["http://schema.org/question"],(function(e){return e["@language"]===t.selected_language}));if(!Array.isArray(e)||!e.length){var i=this.data["http://schema.org/question"][0]["@language"];return this.$store.dispatch("setAnsweredLanguage",i),this.data["http://schema.org/question"][0]["@value"]}return this.$store.dispatch("setAnsweredLanguage",e[0]["@language"]),e[0]["@value"]}return null},itemPreamble:function(){var t=this;if(this.data["http://schema.repronim.org/preamble"]){var e=w.a.filter(this.data["http://schema.repronim.org/preamble"],(function(e){return e["@language"]===t.selected_language}));return e[0]["@value"]}return null},valueConstraints:function(){return this.data["http://schema.repronim.org/responseOptions"]?this.valueC:{requiredValue:!1}},fieldData:function(){return this.data},findPassOptions:function(){if(this.data["http://schema.repronim.org/responseOptions"]){if(Object.keys(this.data["http://schema.repronim.org/responseOptions"][0]).indexOf("@id")>-1)return this.getRequiredVal(),this.requireVal;if(this.data["http://schema.repronim.org/responseOptions"][0]&&this.data["http://schema.repronim.org/responseOptions"][0]["http://schema.org/valueRequired"])return this.data["http://schema.repronim.org/responseOptions"][0]["http://schema.org/valueRequired"][0]["@value"]}return!1}},methods:{getRequiredVal:function(){var t=this;C.a.expand(this.data["http://schema.repronim.org/responseOptions"][0]["@id"]).then((function(e){t.requireVal=e[0]["http://schema.org/valueRequired"][0]["@value"]})).catch((function(e){C.a.expand("".concat(t.data["http://schema.repronim.org/responseOptions"][0]["@id"],".jsonld")).then((function(e){t.requireVal=e[0]["http://schema.org/valueRequired"][0]["@value"]})).catch((function(t){}))}))},getValueConstraintsData:function(t){var e=this;C.a.expand(t).then((function(t){e.valueC=t[0]})).catch((function(i){C.a.expand("".concat(t,".jsonld")).then((function(t){e.valueC=t[0]})).catch((function(t){}))}))},processActivityData:function(t){t.length&&(this.data=t[0],this.data["http://schema.repronim.org/responseOptions"]?Object.keys(this.data["http://schema.repronim.org/responseOptions"][0]).indexOf("@id")>-1?this.getValueConstraintsData(this.data["http://schema.repronim.org/responseOptions"][0]["@id"]):this.valueC=this.data["http://schema.repronim.org/responseOptions"][0]:this.valueC={"@value":null},this.status="ready")},getData:function(){var t=this;w.a.filter(this.individualPassList,(function(e){if(e["http://schema.repronim.org/isAbout"][0]["@id"]===t.item["@id"]){var i={},s=w.a.filter(e["http://schema.repronim.org/allow"],(function(t){return"http://schema.repronim.org/Skipped"===t["@id"]}));s.length?i["skip"]=!0:i["skip"]=!1;var n=w.a.filter(e["http://schema.repronim.org/allow"],(function(t){return"http://schema.repronim.org/DontKnow"===t["@id"]}));n.length?i["dontKnow"]=!0:i["dontKnow"]=!1,t.itemAllow=i}})),C.a.expand(this.item["@id"],{onDownloadProgress:function(){}}).then((function(e){t.processActivityData(e)})).catch((function(e){C.a.expand("".concat(t.item["@id"],".jsonld")).then((function(e){t.processActivityData(e)})).catch((function(t){}))}))},sendSkip:function(t){t&&(this.variant="warning"),this.$emit("skip")},sendDontKnow:function(){this.variant="info",this.$emit("dontKnow")},sendNext:function(){this.$emit("next")},sendData:function(t){this.variant=null,this.$emit("setData",t,this.index)},sendDataAndGoNext:function(t){this.variant=null,this.$emit("setData",t,this.index),this.sendNext()},setScore:function(t,e){this.$emit("setScores",e,this.index)},setMPResponse:function(t,e){this.mp_responses[t]=e},clearMPResponses:function(){this.mp_responses={},this.mp_progress=0,this.$emit("setData",{},this.index)},setMPProgress:function(t){this.mp_progress=t}},mounted:function(){this.getData(),this.init&&("skipped"===this.init?this.variant="warning":"dontKnow"===this.init&&(this.variant="info"))},watch:{item:{handler:function(){this.getData()},deep:!0}}},ss=is,ns=(i("862a"),Object(R["a"])(ss,it,st,!1,null,"25e6d1b2",null)),as=ns.exports;s["default"].component("survey-item",as);var rs=i("e8a6"),os={name:"Survey",props:["reprotermsUrl","srcUrl","responses","selected_language","progress","autoAdvance","actVisibility","nextActivity","ipAddress","participantID"],data:function(){return{activity:{},listShow:[],parsedJSONLD:{},visibility:{},scores:{},isSkip:!1,isDontKnow:!1,isVis:!1,individualPassList:[],downloadAndSubmit:M.a.downloadAndSubmit}},components:{Loader:ai},methods:{getData:function(){var t=this;C.a.expand(this.srcUrl).then((function(e){t.activity=e[0],t.findIndividualPassOptions(),t.$nextTick((function(){var e=w.a.filter(t.context,(function(e){return Object.keys(t.responses).indexOf(e["@id"])>-1}));e.length?t.listShow=w.a.map(new Array(e.length+1),(function(t,e){return e})):t.listShow=[t.initializeListShow()],t.visibility=t.getVisibility(t.responses)}))}))},findIndividualPassOptions:function(){this.activity["http://schema.repronim.org/addProperties"]&&(this.individualPassList=w.a.filter(this.activity["http://schema.repronim.org/addProperties"],(function(t){if(t.hasOwnProperty("http://schema.repronim.org/allow"))return t})))},initializeListShow:function(){var t=this,e=this.responseMapper(this.responses),i=0,s=function(){var s=t.context[i],n=w.a.filter(t.activity["http://schema.repronim.org/addProperties"],(function(t){return t["http://schema.repronim.org/isAbout"][0]["@id"]===s["@id"]})),a=!0;if(n[0]["http://schema.repronim.org/isVis"]&&(a=n[0]["http://schema.repronim.org/isVis"][0]["@value"]),w.a.isString(a)&&(a=t.evaluateString(a,e)),!0===a)return"break"};for(i=0;i<this.context.length;i+=1){var n=s();if("break"===n)break}return i},getScoring:function(t){var e=this,i=this.responseMapper(t);if(!w.a.isEmpty(this.activity["http://schema.repronim.org/compute"])){var s={};return w.a.map(this.activity["http://schema.repronim.org/compute"],(function(t){var n=t["http://schema.repronim.org/jsExpression"][0]["@value"],a=t["http://schema.repronim.org/variableName"][0]["@value"];w.a.isString(n)&&(n=e.evaluateString(n,i)),i[a]&&(s[i[a].ref]=n)})),s}return{}},nextQuestion:function(t,e,i){if(document.body.scrollTop=0,document.documentElement.scrollTop=0,e&&(this.$emit("saveResponse",this.context[t]["@id"],"http://schema.repronim.org/Skipped"),this.setResponse("http://schema.repronim.org/Skipped",t)),i&&(this.$emit("saveResponse",this.context[t]["@id"],"http://schema.repronim.org/DontKnow"),this.setResponse("http://schema.repronim.org/DontKnow",t)),this.$forceUpdate(),t>=this.listShow.length-1){var s=w.a.max(this.listShow)+1;this.listShow.push(s);for(var n=s;n<this.context.length;n+=1){var a=this.order(),r=a[n]["@id"],o=this.visibility[r];if(void 0===o&&(o=!0),o)break;this.listShow.push(n+1)}this.$store&&this.$store.dispatch("updateListShow",this.listShow)}},computeNewShow:function(t){var e=this;return w.a.map(this.contextReverse,(function(i,s){var n=t.indexOf(e.contextReverse.length-s-1)>=0,a=!0;return w.a.isEmpty(e.visibility)||(a=e.visibility[i["@id"]]),n&&a}))},setResponse:function(t,e){var i=this,s=this.context[e]["@id"],n=t,a=[],o=s;if(t.constructor===Object&&!t.hasOwnProperty("unitCode")){var c=Object.keys(t)[0],u=Object.values(t)[0];n=u,a.push(c),o=c}a.push("".concat(s),"".concat(this.srcUrl));var l=new Date,d=l.toISOString(),p="".concat(window.location.origin);window.location.pathname&&(p="".concat(p).concat(window.location.pathname));var h=Object(k["v4"])(),m=Object(k["v4"])(),v={"@context":"https://raw.githubusercontent.com/ReproNim/reproschema/1.0.0-rc2/contexts/generic","@type":"reproschema:ResponseActivity","@id":"uuid:".concat(h),used:a,inLanguage:this.getAnsweredLanguage,startedAtTime:this.t0,endedAtTime:d,wasAssociatedWith:{version:"0.0.1",url:p,"@id":"https://github.com/ReproNim/reproschema-ui"},generated:"uuid:".concat(m)},g={"@context":"https://raw.githubusercontent.com/ReproNim/reproschema/1.0.0-rc2/contexts/generic","@type":"reproschema:Response","@id":"uuid:".concat(m),wasAttributedTo:{"@id":this.$store.state.participantUuid},isAbout:o,value:n};this.participantId&&(g.wasAttributedTo.subject_id=this.participantId);var f=[t,v,g];this.$emit("saveResponse",this.context[e]["@id"],f),this.t0=d;var b=Object(r["a"])({},this.responses);b[this.context[e]["@id"]]=t instanceof Object?g.value:t,this.visibility=this.getVisibility(b),w.a.isEmpty(this.activity["http://schema.repronim.org/compute"])||(w.a.map(this.getScoring(this.responses),(function(t,e){w.a.isNaN(t)||(i.scores[e]=t)})),w.a.isEmpty(this.scores)||this.$emit("saveScores",this.srcUrl,this.scores)),this.updateProgress()},setScore:function(t,e){this.$emit("saveScores",this.context[e]["@id"],t)},restart:function(){this.$emit("clearResponses"),this.listShow=[this.initializeListShow()]},evaluateString:function(t,e){var i=Object.keys(e),s=t;return w.a.map(i,(function(i){var n=e[i].val;"http://schema.repronim.org/Skipped"!==n&&"http://schema.repronim.org/DontKnow"!==n?(w.a.isString(n)?n="'".concat(n,"'"):w.a.isArray(n)?n="[".concat(n,"]"):!n&&t.includes("includes")&&(n="[]"),s=s.replace(new RegExp("\\b".concat(i,"\\b")),n)):s=s.replace(new RegExp("\\b".concat(i,"\\b")),0)})),rs(s)},responseMapper:function(t){var e;if(this.activity["http://schema.repronim.org/addProperties"]){var i=this.activity["http://schema.repronim.org/addProperties"];e=w.a.map(i,(function(e){var i=e["http://schema.repronim.org/isAbout"][0]["@id"],s=e["http://schema.repronim.org/variableName"][0]["@value"],n=t[i];return{key:i,val:n,qId:s}}))}if(this.$store.getters.getQueryParameters){var s=this.$store.getters.getQueryParameters;Object.entries(s).forEach((function(t){var i=Object(u["a"])(t,2),s=i[0],n=i[1],a=s;"week"===s&&(n=parseInt(n));var r=n;e.push({key:s,val:r,qId:a})}))}var n={};return w.a.map(e,(function(t){n[t.qId]={val:t.val,ref:t.key}})),n},getVisibility:function(t){var e=this,i=this.responseMapper(t);if(!w.a.isEmpty(this.activity["http://schema.repronim.org/addProperties"])){var s={};return w.a.map(this.activity["http://schema.repronim.org/addProperties"],(function(t){var n=!0;t["http://schema.repronim.org/isVis"]&&(n=t["http://schema.repronim.org/isVis"][0]["@value"]),w.a.isString(n)&&(n=e.evaluateString(n,i)),i[t["http://schema.repronim.org/variableName"][0]["@value"]]&&(s[i[t["http://schema.repronim.org/variableName"][0]["@value"]].ref]=n)})),s}return{}},updateProgress:function(){var t=this,e=this.context.length;w.a.isEmpty(this.visibility)||(e=0,w.a.map(this.context,(function(i){i["@id"]in t.visibility&&t.visibility[i["@id"]]&&(e+=1)})));var i=Object.keys(this.responses).length/e*100;this.$emit("updateProgress",i)},order:function(){if(this.activity["http://schema.repronim.org/shuffle"]&&this.activity["http://schema.repronim.org/shuffle"][0]["@value"]){var t=this.activity["http://schema.repronim.org/order"][0]["@list"],e=w.a.shuffle(t);return e}return this.activity["http://schema.repronim.org/order"][0]["@list"]},nextActivity1:function(){this.uploadZipData();var t=parseInt(this.$store.state.activityIndex),e=w.a.map(this.actVisibility,(function(t,e){return!0===t?e:""})).filter(String),i=e[e.indexOf(t)+1];this.$route.query.url?this.$router.push("/activities/".concat(i,"?url=").concat(this.$route.query.url)):this.$router.push("/activities/".concat(i))},uploadZipData:function(){var t=this.$store.state.exportResponses,e=this.$store.state.scores,i=this.$store.state.participantId,s={response:t,scores:e,participantId:i};this.formatData(s)},formatData:function(t){var e=this,i=parseInt(this.$store.state.activityIndex);console.log(464,"data response: ",t.response[i]);var s=this.$store.getters.getAuthToken,n=this.$store.state.expiryMinutes,a=new x.a,o="".concat(Object(k["v4"])(),"-").concat(this.participantId,"-activity").concat(i);w.a.map(t.response[i],(function(t){var e=Object(r["a"])({},t);if("reproschema:Response"===t["@type"]&&t.value instanceof Blob){var i=t.isAbout.split("/"),s=t["@id"].split("uuid:")[1];a.folder(o).file("".concat(i[i.length-1],"-").concat(s,".wav"),t.value),e.value="".concat(i[i.length-1],"-").concat(s,".wav")}})),a.folder(o).file("activity_".concat(i,".jsonld"),JSON.stringify(t.response[i],null,4)),a.generateAsync({type:"blob"}).then((function(t){var i=new FormData;i.append("file",t,"".concat(o,".zip")),i.append("auth_token","".concat(s)),i.append("expires","".concat(n)),e.sendRetry("".concat(M.a.backendServer,"/submit"),i)}))},sendRetry:function(t,e){var i=arguments,s=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:3,r=i.length>3&&void 0!==i[3]?i[3]:1e4,o={"Content-Type":"multipart/form-data"},n.prev=3,n.next=6,m.a.post("".concat(M.a.backendServer,"/submit"),e,o);case 6:n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](3),a>0?setTimeout((function(){return s.sendRetry(t,e,a-1,2*r)}),r):console.log(n.t0.response.status);case 12:case"end":return n.stop()}}),n,null,[[3,9]])})))()}},watch:{$route:function(){this.getData(),this.readyForActivity&&this.$store&&this.$store.dispatch("getActivityData")},actVisibility:{deep:!0,handler:function(t){this.isVis=w.a.some(t)}},listContentRev:function(){this.$forceUpdate()},listShow:function(){this.updateProgress()},srcUrl:function(){this.srcUrl&&this.getData()},readyForActivity:function(){this.readyForActivity&&this.$store&&this.$store.dispatch("getActivityData")},storeContext:function(){this.$store&&this.$store.dispatch("setActivityList",this.storeContext)}},computed:{complete:function(){return this.progress>=100},getAnsweredLanguage:function(){return this.$store.getters.getAnsweredLanguage},storeContext:function(){if(this.$store){var t=this.$store.state;if(t.activities.length&&null!=t.activityIndex&&t.activities[t.activityIndex].activity){var e=t.activities[t.activityIndex].activity,i=e["http://schema.repronim.org/order"][0]["@list"];return i}}return[{}]},shouldShow:function(){var t=this;return w.a.map(this.contextReverse,(function(e,i){var s=t.listShow.indexOf(t.contextReverse.length-i-1)>=0,n=!0;return w.a.isEmpty(t.visibility)||(n=t.visibility[e["@id"]]),s&&n}))},context:function(){if(this.activity["http://schema.repronim.org/order"]){var t=this.order();return t}return[{}]},contextReverse:function(){return this.context.length>0?this.context.slice().reverse():{}},preambleText:function(){var t=this;if(this.activity["http://schema.repronim.org/preamble"]){var e=w.a.filter(this.activity["http://schema.repronim.org/preamble"],(function(e){return e["@language"]===t.selected_language}));return Array.isArray(e)&&e.length?e[0]["@value"]:this.activity["http://schema.repronim.org/preamble"][0]["@value"]}return""},readyForActivity:function(){if(this.$store)return this.$store.getters.readyForActivity},findOverallPassOptions:function(){if(this.activity["http://schema.repronim.org/allow"]){var t=!1,e=!1;return w.a.map(this.activity["http://schema.repronim.org/allow"][0]["@list"],(function(i){"http://schema.repronim.org/Skipped"===i["@id"]?t=!0:"http://schema.repronim.org/DontKnow"===i["@id"]&&(e=!0)})),{skip:t,dontKnow:e}}return null},activityUrl:function(){return this.srcUrl},currentActivityIndex:function(){return parseInt(this.$store.state.activityIndex)},participantId:function(){return this.$store.state.participantId},getparticipantUUID:function(){return this.$store.getters.getparticipantUUID}},mounted:function(){this.srcUrl&&this.getData();var t=new Date;this.t0=t.toISOString()}},cs=os,us=(i("a821"),Object(R["a"])(cs,tt,et,!1,null,"9867f984",null)),ls=us.exports,ds=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"docked-layout"},[t.selectedContent?i("section",{staticClass:"smooth-scroller",staticStyle:{"padding-top":"0"},attrs:{id:"smooth-scroller"}},[i("vue-markdown",{attrs:{source:t.selectedContent.content}})],1):i("Loader"),i("p",{staticClass:"button-para"},[i("button",{staticClass:"join-button",on:{click:t.doNext}},[t._v(t._s(t.$t("join-button")))])])],1)},ps=[],hs=i("9ce6"),ms=i.n(hs),vs={name:"Landing",props:{selected_language:{type:String},nextActivity:{type:Object},actVisibility:{type:Array}},components:{VueMarkdown:ms.a,Loader:ai},data:function(){return{content:{},consent:M.a.consent}},computed:{reprotermsUrl:function(){return this.$store.getters.getTermsUrl},selectedContent:function(){var t=this,e=w.a.filter(this.$store.state.landing,(function(e){return e["@language"]===t.selected_language}));return w.a.isEmpty(e)?this.$store.state.landing[0]:e[0]},activityUrl:function(){return this.srcUrl}},methods:{doBack:function(){this.step>1&&(this.step-=1)},doNext:function(){var t=parseInt(this.$store.state.activityIndex),e=w.a.map(this.actVisibility,(function(t,e){return!0===t?e:""})).filter(String),i=e[e.indexOf(t)+1];this.$route.query.url?this.$router.push("/activities/".concat(i,"?url=").concat(this.$route.query.url)):this.$router.push("/activities/".concat(i))}}},gs=vs,fs=(i("f02d"),Object(R["a"])(gs,ds,ps,!1,null,"5e9529b6",null)),bs=fs.exports,ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"docked-layout"},[i("section",[i("div",{staticClass:"container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],staticClass:"screen"},[i("div",{staticClass:"panel"},[i("BridgeImage",{attrs:{src:"static/images/about%20the%20study.svg"}}),i("h3",[t._v("About the study")]),i("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam eu sagittis leo, sit amet consectetur mi. Donec volutpat rutrum massa et luctus. Fusce ac dui quam. Nam a nibh porttitor, tincidunt libero id, condimentum velit. Praesent ultricies consectetur nulla vel pharetra. ")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step === 2"}],staticClass:"screen"},[i("div",{staticClass:"panel"},[i("BridgeImage",{attrs:{src:"static/images/procedures%20activities.svg"}}),i("h3",[t._v("How does the study work?")]),t._m(0)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step === 3"}],staticClass:"screen"},[i("div",{staticClass:"panel"},[i("BridgeImage",{attrs:{src:"static/images/how%20long%20does%20it%20last.svg"}}),i("h3",[t._v("How long does it last?")]),i("p",[t._v("We will ask you to participate for 2 weeks every three months. We would like you to participate for 2 years, but you can participate as long as you like.")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:4===t.step,expression:"step === 4"}],staticClass:"screen"},[i("div",{staticClass:"panel"},[i("BridgeImage",{attrs:{src:"static/images/benefits%20and%20risks.svg"}}),i("h3",[t._v("What are the benefits and risks?")]),i("p",[t._v("You may not directly benefit from taking part but seeing trends in your data may be interesting to you. You may help researchers better understand PD.")]),i("p",[t._v("The main risk is to your privacy by an accidental release of your data. You may find some of the activities tiring and seeing your data may be stressful.")])],1)])])]),i("div",{staticClass:"buttons"},[i("button",{attrs:{disabled:1===this.step},on:{click:t.doBack}},[t._v("Back")]),i("button",{on:{click:t.doNext}},[t._v(t._s(t.nextName))])])])},ws=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v(" 1. Answer questions to determine if you are eligible for this study "),i("br"),t._v(" 2. Complete the informed consent process & download the app"),i("br"),t._v(" 3. Complete a one-time health survey"),i("br"),t._v(" 4. Complete short physical and cognitive activities "),i("br"),t._v(" 5. Track your symptoms, triggers, and medications ")])}],_s={name:"StudyIntroduction",data:function(){return{step:1,totalSteps:4}},computed:{nextName:function(){return this.step===this.totalSteps?"Start":"Next"},appletURL:function(){return"https://raw.githubusercontent.com/ReproNim/reproschema/master/activity-sets/VoicePilot/VoicePilot_schema"},redirect:function(){return{name:"Applet",params:{appletId:this.appletURL},query:Object(r["a"])(Object(r["a"])({},this.query),{},{consent:!0})}}},methods:{doBack:function(){this.step>1&&(this.step-=1)},doNext:function(){this.step<this.totalSteps?this.step+=1:this.step===this.totalSteps&&this.$router.push("/activities/0")},learnMore:function(){this.$refs.consentViewer.toggleMax()}}},xs=_s,ks=(i("6d08"),Object(R["a"])(xs,ys,ws,!1,null,"dd30dc8c",null)),Ss=ks.exports;s["default"].use(X["a"]);var Cs=new X["a"]({routes:[{path:"/",name:"Landing",component:bs,props:{startButton:M.a.startButton}},{path:"/study/intro",name:Ss,component:Ss},{path:"/activities/:id",name:"Home",component:ls}]}),$s=i("2f62");window.jsonld=C.a,s["default"].use($s["a"]);var js={schema:{},progress:[],responses:[],exportResponses:[],scores:{},participantId:"",activities:[],activityIndex:null,storeReady:!1,activityReady:!1,termUrl:"http://schema.repronim.org/",schemaType:"",answeredLanguage:"",participantUuid:"",expiryMinutes:null,queryParams:{},token:null,landing:[],hasExport:!1},Is={getParticipantId:function(t){return t.participantId},getschemaType:function(t){return t.schemaType},getTermsUrl:function(t){return t.termUrl},getLand:function(t){return t.landing},srcUrl:function(t){return!w.a.isEmpty(t.schema)&&t.activityIndex?(t.schemaType=t.schema["@type"][0].split("/").slice(-1)[0],"Activity"===t.schemaType?t.schema["@id"]:t.schema["".concat(t.termUrl,"order")][0]["@list"][t.activityIndex]["@id"]):null},readyForActivity:function(t){return t.storeReady&&t.activityReady},getAnsweredLanguage:function(t){return t.answeredLanguage},getProtocolSchema:function(t){return t.schema},getQueryParameters:function(t){return t.queryParams},getAuthToken:function(t){return t.token},getHasExport:function(t){return t.hasExport},getExpiryTime:function(t){return t.expiryMinutes}},Os={setReprotermUrl:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:m.a.get(e).then((function(e){var i=e.data["@context"];m.a.get(i).then((function(e){t.termUrl="http://schema.repronim.org/"}))}));case 1:case"end":return i.stop()}}),i)})))()},setBaseSchema:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function i(){var s,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.schema=e[0],t.progress=w.a.map(e[0]["".concat(t.termUrl,"order")][0]["@list"],(function(){return 0})),t.responses=w.a.map(e[0]["".concat(t.termUrl,"order")][0]["@list"],(function(){return{}})),t.exportResponses=w.a.map(e[0]["".concat(t.termUrl,"order")][0]["@list"],(function(){return[]})),t.scores=w.a.map(e[0]["".concat(t.termUrl,"order")][0]["@list"],(function(){return{}})),t.activities=w.a.map(e[0]["".concat(t.termUrl,"order")][0]["@list"],(function(){return{}})),t.storeReady=!0,!t.schema["http://schema.repronim.org/landingPage"]){i.next=13;break}return s=t.schema["http://schema.repronim.org/landingPage"],n=s.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={},t.next=3,m.a.get(e["@id"]);case 3:return s=t.sent,i["@language"]=e["http://schema.org/inLanguage"][0]["@value"],i.content=s.data,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.next=12,Promise.all(n);case 12:t.landing=i.sent;case 13:case"end":return i.stop()}}),i)})))()},setActivityIndex:function(t,e){t.activityIndex=e,t.activityReady=!0},setAuthToken:function(t,e){t.token=e},setParticipantUUID:function(t,e){t.participantUuid=e},setExpiryMinutes:function(t,e){t.expiryMinutes=e},setQueryParameters:function(t,e){t.queryParams=e},saveResponse:function(t,e){var i=e.key,s=e.value,n=s[0],a=s[1],r=s[2];t.responses[t.activityIndex][i]=n,t.exportResponses[t.activityIndex].push(a,r)},saveScores:function(t,e){var i=e.key,s=e.scoreObj;t.scores[t.activityIndex][i]=s},saveParticipantId:function(t,e){t.participantId=e},updateProgress:function(t,e){t.progress[t.activityIndex]=e},setActivityData:function(t,e){t.activities[t.activityIndex].activity=e[0],t.activities[t.activityIndex].listShow=[0]},setListShow:function(t,e){t.activities[t.activityIndex].listShow=e},setAnsweredLanguage:function(t,e){t.answeredLanguage=e},setActivityList:function(t,e){t.activities[t.activityIndex]&&(t.activities[t.activityIndex].activityList=e)},clearResponses:function(t,e){t.responses[e]={},t.progress[e]=0},setExport:function(t,e){t.hasExport=e}},Ps={getReproTerm:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=t.commit,s("setReprotermUrl",e);case 2:case"end":return i.stop()}}),i)})))()},getBaseSchema:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=t.commit,i.t0=s,i.next=4,C.a.expand(e||M.a.githubSrc);case 4:i.t1=i.sent,(0,i.t0)("setBaseSchema",i.t1);case 6:case"end":return i.stop()}}),i)})))()},setActivityIndex:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=t.commit,s("setActivityIndex",e);case 2:case"end":return i.stop()}}),i)})))()},saveParticipantId:function(t,e){var i=t.commit;i("saveParticipantId",e)},saveResponse:function(t,e){var i=t.commit,s=e.key,n=e.value;i("saveResponse",{key:s,value:n})},saveScores:function(t,e){var i=t.commit,s=e.key,n=e.scoreObj;i("saveScores",{key:s,scoreObj:n})},updateProgress:function(t,e){var i=t.commit;i("updateProgress",e)},getActivityData:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,s=t.getters,e.t0=i,e.next=4,C.a.expand(s.srcUrl);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)("setActivityData",e.t1));case 6:case"end":return e.stop()}}),e)})))()},updateListShow:function(t,e){var i=t.commit;i("setListShow",e)},setAnsweredLanguage:function(t,e){var i=t.commit;i("setAnsweredLanguage",e)},setActivityList:function(t,e){var i=t.commit;i("setActivityList",e)},clearResponses:function(t,e){var i=t.commit;i("clearResponses",e)},setParticipantUUID:function(t,e){var i=t.commit;i("setParticipantUUID",e)},setAuthToken:function(t,e){var i=t.commit;i("setAuthToken",e)},setExpiryMinutes:function(t,e){var i=t.commit;i("setExpiryMinutes",e)},setQueryParameters:function(t,e){var i=t.commit;i("setQueryParameters",e)},setExport:function(t,e){var i=t.commit;i("setExport",e)}},Rs=new $s["a"].Store({state:js,getters:Is,mutations:Os,actions:Ps});s["default"].config.productionTip=!1,new s["default"]({el:"#app",store:Rs,router:Cs,components:{App:W},i18n:B,render:function(t){return t(W)}})},"5cd4":function(t,e,i){},"61fc":function(t,e,i){},"6a3c":function(t,e,i){},"6d08":function(t,e,i){"use strict";var s=i("7c0c"),n=i.n(s);n.a},7936:function(t,e,i){"use strict";var s=i("1657"),n=i.n(s);n.a},"7c0c":function(t,e,i){},"85ec":function(t,e,i){},"862a":function(t,e,i){"use strict";var s=i("9aa7"),n=i.n(s);n.a},"930c":function(t,e,i){"use strict";var s=i("b459"),n=i.n(s);n.a},9640:function(t,e,i){t.exports=i.p+"img/audio-permission-setting-firefox.9e401fdd.gif"},"96ba":function(t,e,i){},"989b":function(t,e,i){"use strict";var s=i("3ae0"),n=i.n(s);n.a},"9aa7":function(t,e,i){},"9fd2":function(t,e,i){},a306:function(t){t.exports=JSON.parse('{"join-button":"Participar","start-button":"Comenzar","stop-button":"Parar","pause-button":"Pausar","play-button":"Reproducir","finish-button":"Terminar","redo-recording":"Rehacer grabación","continue":"Continuar","record-button":"Grabar","x-seconds-left":"segundos restantes","next-button":"Siguiente","upload-button":"Enviar","download-and-submit-button":"Descargar & Enviar","export-button":"Descargar","submit-button":"Enviar","restart-button":"Reiniciar","dont-know":"No sé","skip":"Saltear","unit":"unit_es","audio-support-msg":"Uy! Su navegador no puede grabar audio!","invalid-email":"Email incorrecto","select-invalid-query":"Uy! Ningún elemento se encontró. Considere cambiar la búsqueda.","invalid-feedback-number":"Por favor ingrese un número","timeout-message":"Por favor contacte a los investigadores para un nuevo enlace escribiendo un email a","input-selector-alert":"Este ítem no tiene título","loader":"Cargando","review-and-next":"Haga click en Siguiente para continuar:","save-data":"Por favor guarde sus respuestas ahora.","export-and-finish":"Puede hacer click en el botón Descargar en el menú si desea guardar sus respuestas. Para terminar, haga click en Enviar.","finish":"Para terminar, haga click en Enviar.","home-button":"Inicio","help-button":"Ayuda","select-year":"Seleccione el año","upload-message":"Enviando... Esto generalmente demora un par de segundos para conexiones veloces o más dependiendo de su velocidad de conexión","safari-notification":"Micrófono no funciona con Chrome. Por favor copie el enlace del mail y péguelo en Safari","permission-refresh":"If you already changed permissions you need to refresh the page.","permission-change-notification":"Please change your browser\'s microphone permissions in order to answer these questions."}')},a821:function(t,e,i){"use strict";var s=i("bd80"),n=i.n(s);n.a},b459:function(t,e,i){},ba7e:function(t,e,i){t.exports=i.p+"img/403-Access-Forbidden-HTML-Template.95bf9b29.gif"},bd80:function(t,e,i){},cc07:function(t,e,i){"use strict";var s=i("d3ef"),n=i.n(s);n.a},d080:function(t,e,i){"use strict";var s=i("6a3c"),n=i.n(s);n.a},d3ef:function(t,e,i){},db49:function(t,e){t.exports={githubSrc:"https://raw.githubusercontent.com/ohbm/cobidas_schema/master/schemas/neurovault/protocols/neurovault_schema.jsonld",banner:"This protocol is under construction.",startButton:"Start",assetsPublicPath:"/eCOBIDAS/",backendServer:"null"}},e01b:function(t,e,i){},edd4:function(t){t.exports=JSON.parse('{"join-button":"Join","start-button":"Start","stop-button":"Stop","pause-button":"Pause","play-button":"Play","finish-button":"Finish","redo-recording":"Redo Recording","continue":"Continue","record-button":"Record","x-seconds-left":"seconds left","next-button":"Next","upload-button":"Upload","download-and-submit-button":"Download & Submit","export-button":"Download","submit-button":"Submit","restart-button":"Restart","dont-know":"Don\'t know","skip":"Skip","unit":"unit","audio-support-msg":"Oh no, your browser doesn\'t support audio!","invalid-email":"Invalid Email Address","select-invalid-query":"Oops! No elements found. Consider changing the search query.","invalid-feedback-number":"Please enter a number","timeout-message":"Please contact the researchers for a new submission link with an email to","input-selector-alert":"This item does not have a title defined","loader":"Loading","review-and-next":"Click \\"Next\\" below:","save-data":"Please save your data now.","export-and-finish":"Please click \\"Finish\\" below to submit your responses. You can additionally click the \\"Download\\" button on sidebar if you wish to download a personal copy of your data.","finish":"Click below to finish.","home-button":"Home","help-button":"Help","select-year":"Select year","prepare-upload":"Preparing for upload.. ","upload-message":"Uploading... This generally takes a few seconds for fast connections or longer depending on your connection speed","safari-notification":"Your microphone does not work with Chrome. Please copy the link from the email and paste it into a Safari browser.","permission-refresh":"If you already changed permissions you need to refresh the page.","permission-change-notification":"Please change your browser\'s microphone permissions in order to answer these questions."}')},f02d:function(t,e,i){"use strict";var s=i("3950"),n=i.n(s);n.a},fb9a:function(t,e,i){"use strict";var s=i("e01b"),n=i.n(s);n.a}});
//# sourceMappingURL=app.bed2bb08.js.map